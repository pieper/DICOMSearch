<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.4 Networking</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.2.html" title="PS3.2" />
      <link rel="up" href="chapter_C.html" title="C Conformance Statement Sample DICOMRis Interface (Informative)" />
      <link rel="prev" href="sect_C.3.html" title="C.3 Introduction" />
      <link rel="next" href="sect_C.5.html" title="C.5 Media Interchange" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.4 Networking</th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C Conformance Statement Sample DICOMRis Interface (Informative)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.5.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_C.4" shape="rect"></a>C.4 Networking</h2>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.4.1" shape="rect"></a>C.4.1 Implementation Model</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.1.1" shape="rect"></a>C.4.1.1 Application Data Flow</h4>
                     </div>
                  </div>
               </div>
               <p>
            </p>
               <div class="figure">
                  <a id="figure_C.4.1-1" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.2_C.4.1-1.svg" alt="DICOM Standard Interface" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure C.4.1-1. DICOM Standard Interface</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
               </p>
               <p>The DICOMRis DICOMSRV application provides access to Scheduled Procedure information, supports updating of the RIS database as procedures are performed. The various flows in the diagram above are described as follows</p>
               <p>DICOMSRV accepts associations for Verification from Verification SCUs and responds automatically with Success status</p>
               <p>DICOMSRV accepts Association Requests for Modality Worklist from MWL SCUs and responds to queries from these SCUs. When a query is received DICOMSRV engages in local real-world activity Scheduled Procedure Queries. This results in a set of matching responses that DICOMSRV returns to the MWL SCU.</p>
               <p>DICOMSRV accepts Association Requests for Modality Performed Procedure Step from MPPS SCUs and responds to N-CREATE and N-SET Requests from these SCUs. When an N-CREATE or N-SET is received DICOMSRV engages in local real-world activity Update Procedure. This results in updates to the DICOMRis Database per the contents of the received message. DICOMSRV then returns N-SET or N-CREATE status to the MPPS SCU.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.1.2" shape="rect"></a>C.4.1.2 Functional Definition of AEs</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.4.1.2.1" shape="rect"></a>C.4.1.2.1 Functional Definition of DICOMSRV Application Entity</h5>
                        </div>
                     </div>
                  </div>
                  <p>DICOMSRV is a background process running on a Unix server. A single instance of DICOMSRV is started at System boot but multiple instances may be running at any one time as a result of forking of additional processes. The application may be started/restarted interactively via a utility. In addition, there is a monitoring process that may be configured to restart the application automatically should it crash. Events are logged to application-specific log files with a time stamp. Multiple logging levels are supported. At the lowest logging level the following are logged:</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>The AE Title of the remote AE when the Association is created</p>
                        </li>
                        <li class="listitem">
                           <p>The status of each DICOM Service Request</p>
                        </li>
                        <li class="listitem">
                           <p>Any updates to the DICOMRis Database</p>
                        </li>
                     </ul>
                  </div>
                  <p>Higher levels of logging can be configured to cause dumping of the contents of DICOM Service and Association messages..</p>
                  <p>DICOMSRV will listen for connection requests at the Presentation Address configured for its AE Title. This application is an implementation of a concurrent server; it forks a new process for each connection request it receives. Each forked process exists for the life of a single association and then exits. DICOMSRV will accept Presentation Contexts for the Modality Worklist, Modality Performed Procedure Step and Verification SOP Classes. Validation of DICOM Service Request messages is configurable using command-line parameters and may return Failure status in the event of an invalid Service Request according to the specifications in the standard. Upon receipt of a Verification Request DICOMSRV will respond with a successful Verification response. When a MWL query is received DICOMSRV will query the DICOMRis database for a list of Scheduled Procedure Steps matching the query and will return a pending C-Find response for each match. Before DICOMRis can include patient and order
  information in response to a Modality Worklist query, patients must be registered and there must be orders for those patients in the DICOMRis database.. Registration and order information is typically interfaced to DICOMRis from a HIS but can also be entered directly into DICOMRis using DICOMRis's registration and order entry applications. Reception of an MPPS N-Create or N-Set Request may result in updates to various tables in the DICOMRis database and may result in changes to the procedure state of the Requested Procedure(s) referenced within the message. If an MPPS message containing non-matching demographic data is received, this will be logged, an exception document generated and an entry added to an exception table in the database.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.1.3" shape="rect"></a>C.4.1.3 Sequencing of Real World Activities</h4>
                     </div>
                  </div>
               </div>
               <p>
            </p>
               <div class="figure">
                  <a id="figure_C.4.1-2" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.2_C.4.1-2.svg" alt="Sequencing Constraints" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure C.4.1-2. Sequencing Constraints</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
               </p>
               <p>Under normal circumstances the sequencing depicted above applies:</p>
               <div class="orderedlist">
                  <ol class="orderedlist" type="1">
                     <li class="listitem">
                        <p>The Modality queries for a worklist of Scheduled Procedure Steps</p>
                     </li>
                     <li class="listitem">
                        <p>DICOMSRV searches its database and returns matches to the query</p>
                     </li>
                     <li class="listitem">
                        <p>The Modality begins performance of a Procedure Step and sends the MPPS N-CREATE</p>
                     </li>
                     <li class="listitem">
                        <p>The Modality completes or discontinues the procedure and sends the MPPS N-SET with status of COMPLETE or DISCONTINUED</p>
                     </li>
                  </ol>
               </div>
               <p>The workflow above is not the only one possible. For example, in a Trauma or unscheduled flow there may be no worklist query prior to the performance of the procedure and the sending of MPPS messages. The flow would also be altered if the Modality did not support both Modality Worklist and MPPS. The Description and Sequencing of Activities and the SOP Specific Conformance sections below for the respective Real World Activities provide additional detail</p>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.4.2" shape="rect"></a>C.4.2 AE Specifications</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.2.1" shape="rect"></a>C.4.2.1 DICOMSRV AE Specification</h4>
                     </div>
                  </div>
               </div>
               <p>This application provides Standard Conformance to the following DICOM V3.0 SOP Classes:</p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.4.2.1.1" shape="rect"></a>C.4.2.1.1 SOP Classes</h5>
                        </div>
                     </div>
                  </div>
                  <div class="table">
                     <a id="table_C.4.2-1" shape="rect"></a>
                     <p class="title">
                        <strong>Table C.4.2-1. SOP Classes for AE DICOMSRV</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class Name</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class UID</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCU</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCP</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Verification</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.1.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Modality Worklist</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.31</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Modality Performed Procedure Step</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.3.1.2.3.3</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.4.2.1.2" shape="rect"></a>C.4.2.1.2 Association Policies</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.2.1" shape="rect"></a>C.4.2.1.2.1 General</h6>
                           </div>
                        </div>
                     </div>
                     <p>The Application Context Name for DICOM 3.0 is the only Application Context proposed.</p>
                     <div class="table">
                        <a id="table_C.4.2-2" shape="rect"></a>
                        <p class="title">
                           <strong>Table C.4.2-2. DICOM Application Context</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Application Context Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.2.840.10008.3.1.1.1</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.2.2" shape="rect"></a>C.4.2.1.2.2 Number of Associations</h6>
                           </div>
                        </div>
                     </div>
                     <p>DICOMSRV will support as many simultaneous associations as SCP as are requested by Workflow SCUs up to a configurable maximum. DICOMSRV limits the number of concurrent associations to a given Workflow SCU as described below.</p>
                     <div class="table">
                        <a id="table_C.4.2-3" shape="rect"></a>
                        <p class="title">
                           <strong>Table C.4.2-3. Number of Associations as an SCP for AE DICOMSRV</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of simultaneous associations</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Configurable value. Maximum of 3 simultaneous associations to a given SCU</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.2.3" shape="rect"></a>C.4.2.1.2.3 Asynchronous Nature</h6>
                           </div>
                        </div>
                     </div>
                     <p>Asynchronous communication (multiple outstanding transactions over a single association) is not supported.</p>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.2.4" shape="rect"></a>C.4.2.1.2.4 Implementation Identifying Information</h6>
                           </div>
                        </div>
                     </div>
                     <div class="table">
                        <a id="table_C.4.2-4" shape="rect"></a>
                        <p class="title">
                           <strong>Table C.4.2-4. DICOM Implementation Class and Version for DICOMSRV</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Class UID</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>xxxxxxx.yyy.etc.ad.inf.usw</p>
                                    </td>
                                 </tr>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Version Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>DICOMRis_260</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.4.2.1.3" shape="rect"></a>C.4.2.1.3 Association Initiation Policy</h5>
                        </div>
                     </div>
                  </div>
                  <p>DICOMSRV does not initiate Associations.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.4.2.1.4" shape="rect"></a>C.4.2.1.4 Association Acceptance Policy</h5>
                        </div>
                     </div>
                  </div>
                  <p>DICOMSRV will accept associations for the MWL, MPPS and Verification SOP Classes as an SCP. The job runs in the background and forks a new process for each connection request from a Remote AE</p>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.4.1" shape="rect"></a>C.4.2.1.4.1 Activity - Configured AE Requests MWL Query</h6>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.1.1" shape="rect"></a>C.4.2.1.4.1.1 Description and Sequencing of Activities</h6>
                              </div>
                           </div>
                        </div>
                        <p>When Modality Worklist SCUs query DICOMSRV the queries run against the Scheduled Procedure Step Worklist (referred to hereafter as the 'SPS Worklist' or 'Worklist') in the DICOMRis database. There is a configurable mapping between the Universal Service ID contained in the HL7 Order messages (see <a class="xref" href="sect_C.8.html#table_C.8.1-4" title="Table C.8.1-4. DICOMRis Controlled Terminology Usage" shape="rect">Table C.8.1-4</a>) and one or more Requested Procedures within the DICOMRis database. A Requested Procedure may, in turn, map to 1 or more Scheduled Procedure Steps though the relation is usually 1-to-1. This mapping is also site-configurable. The relation between Accession Number (0008,0050) and Requested Procedure ID (0040,1001) is 1-to-1 within DICOMRis and these attributes have the same value in all MWL responses. Scheduled Procedure Step entries are added and removed from the Worklist as follows:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>Add Scheduled Procedure Step Entries Normal Pathway - As orders are received from the HIS via HL7 or entered using DICOMRis' Ordering and Scheduling application, additions are made to the SPS Worklist in the DICOMRis database per the mapping specified above.</p>
                              </li>
                              <li class="listitem">
                                 <p>Add Scheduled Procedure Step Entries Exception Pathway - Users can interactively create additional Scheduled Procedure Step entries for a given Requested Procedure using the Procedure Update application. It may be necessary to create additional entries under certain conditions such as when it is discovered that a procedure must be redone after having previously been marked as completed. This does not apply to canceled procedures</p>
                              </li>
                              <li class="listitem">
                                 <p>Remove Scheduled Procedure Step Entries Normal Pathway - An SPS entry is removed from the SPS Worklist under the following circumstances:</p>
                              </li>
                              <li class="listitem">
                                 <p>As mentioned previously, DICOMRis supports common RIS function to set the state of the procedure as it progresses from being ordered to being resulted and signed. Setting the procedure state may be initiated interactively via the Procedure Update application or as a result of various events. An entry in the SPS Worklist is removed when the Requested Procedure that is the parent of the SPS is set to a configured status. This configuration is system-wide applying equally to all procedures.</p>
                              </li>
                              <li class="listitem">
                                 <p>If configured to change the state of a Requested Procedure on receipt of an MPPS N-CREATE or N-SET referencing the procedure then the change in state may result in removal of SPS entries related to the procedure as described above</p>
                              </li>
                              <li class="listitem">
                                 <p>Remove Entries Exception Pathway - When a procedure is canceled all SPS entries related to that procedure are removed from the Worklist.</p>
                              </li>
                           </ul>
                        </div>
                        <p>Remove Entries Maintenance Pathway - SPS entries that are still in the Worklist a configurable time after their scheduled start date/time will be removed by a day-end maintenance job.</p>
                        <p>In the table below the following applies:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>To cause a given action to occur, MPPS messages must reference the parent Requested Procedure related to the SPS entry and applicable configuration must be in place.</p>
                              </li>
                           </ul>
                        </div>
                        <div class="table">
                           <a id="table_C.4.2-5" shape="rect"></a>
                           <p class="title">
                              <strong>Table C.4.2-5. Scheduled Procedure Step Entry Actions Table</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Events</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Scheduled Procedure Step Entry Actions</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Order received from HIS or entered using DICOMRis application</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Add one or more Entries to Worklist</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>User adds SPS entry interactively</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Add Entry to Worklist</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>MPPS message received that changes procedure state of parent procedure to status configured for removal of child SPS entry from Worklist</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Remove Entry from Worklist</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Current time exceeds SPS scheduled time by a Worklist configured time interval</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Remove Entry from Worklist</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Parent procedure canceled</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Remove one or more Entries from Worklist</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Parent procedure set to a state that causes removal of child SPS entries from Worklist</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Remove one or more Entries from Worklist</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>
                  </p>
                        <div class="figure">
                           <a id="figure_C.4.2-1" shape="rect"></a>
                           <div class="figure-contents">
                              <div class="mediaobject">
                                 <img src="figures/PS3.2_C.4.2-1.svg" alt="Sequencing Diagram for Activity: Configured AE Requests MWL Query" />
                              </div>
                           </div>
                           <p class="title">
                              <strong>Figure C.4.2-1. Sequencing Diagram for Activity: Configured AE Requests MWL Query</strong>
                           </p>
                        </div>
                        <p>
                           <br class="figure-break" clear="none" />
                        </p>
                        <p>The figure above is a possible sequence of messages between a Modality Worklist SCU and DICOMSRV.</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>The Modality opens an Association with DICOMSRV for the purpose of querying for a Modality Worklist</p>
                              </li>
                              <li class="listitem">
                                 <p>The Modality sends an MWL C-FIND query to DICOMSRV</p>
                              </li>
                              <li class="listitem">
                                 <p>DICOMSRV queries its database using the attributes from the C-FIND Request and returns 0 to N C-FIND responses depending on matches returned from the database. DICOMSRV checks for a C-FIND Cancel Request after a configured number of responses are sent. If a Cancel is received then no further Pending responses are sent.</p>
                              </li>
                              <li class="listitem">
                                 <p>DICOMSRV sends the final C-FIND response</p>
                              </li>
                              <li class="listitem">
                                 <p>The Modality closes the Association</p>
                              </li>
                           </ol>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.1.2" shape="rect"></a>C.4.2.1.4.1.2 Accepted Presentation Contexts</h6>
                              </div>
                           </div>
                        </div>
                        <div class="table">
                           <a id="table_C.4.2-6" shape="rect"></a>
                           <p class="title">
                              <strong>Table C.4.2-6. Acceptable Presentation Contexts for AE DICOMSRV and Real-World Activity 'Configured AE Requests MWL Query'</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" colspan="6" rowspan="1">
                                          <p>Presentation Context Table</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Abstract Syntax</p>
                                       </th>
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Transfer Syntax</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Role</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Extended Negotiation</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Name List</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>UID List</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>Modality Worklist Information Model - FIND</p>
                                       </td>
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>1.2.840.10008.5.1.4.31</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <div class="section">
                           <div class="titlepage">
                              <div>
                                 <div>
                                    <h6 class="title">
                                       <a id="sect_C.4.2.1.4.1.2.1" shape="rect"></a>C.4.2.1.4.1.2.1 Presentation Context Acceptance Criterion</h6>
                                 </div>
                              </div>
                           </div>
                           <p>Depending on configuration, DICOMSRV may or may not accept multiple Presentation Contexts containing the same Abstract Syntax.</p>
                        </div>
                        <div class="section">
                           <div class="titlepage">
                              <div>
                                 <div>
                                    <h6 class="title">
                                       <a id="sect_C.4.2.1.4.1.2.2" shape="rect"></a>C.4.2.1.4.1.2.2 Transfer Syntax Selection Policy</h6>
                                 </div>
                              </div>
                           </div>
                           <p>Transfer Syntaxes in addition to the default Implicit VR Little Endian may be configured for a given Abstract Syntax. DICOMSRV's preferred Transfer Syntax is Explicit VR Little Endian and this will be selected if offered.</p>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.1.3" shape="rect"></a>C.4.2.1.4.1.3 SOP Specific Conformance for Modality Worklist SOP Class</h6>
                              </div>
                           </div>
                        </div>
                        <p>DICOMSRV does not support matching on any optional matching key attributes.</p>
                        <p>DICOMSRV supports case-insensitive matching on the following Person Name Value Representation elements:</p>
                        <p>Patient Name (0010,0010)</p>
                        <p>DICOMSRV supports optional return key attributes as described in the table below.</p>
                        <div class="table">
                           <a id="table_C.4.2-7" shape="rect"></a>
                           <p class="title">
                              <strong>Table C.4.2-7. Modality Worklist Optional Return Keys Supported</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Description/Module</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Tag</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Remark</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Scheduled Procedure Step</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Scheduled Protocol Code Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0008)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Comments on the Scheduled Procedure Step</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0400)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This attribute, if valued, will contain details of the protocol to be used in carrying out this step. The attribute could contain a full description of the protocol or simply indicate modifications to the protocol designated by the Scheduled Protocol Code Sequence</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Requested Contrast Agent</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0032,1070)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Requested Procedure</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Reason for the Requested Procedure</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,1002)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Requested Procedure Comments</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,1400)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Imaging Service Request</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Reason for the Imaging Service Request</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2001)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Imaging Service Request Comments</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2400)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Requesting Service</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0032,1033)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Issuing Date of Imaging Service Request</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2004)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Issuing Time of Imaging Service Request</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2005)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Placer Order Number / Imaging Service Request</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2016)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Filler Order Number / Imaging Service Request</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2017)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Order entered by</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2008)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Order Enterer's Location</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2009)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Visit Status</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Institution Residence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0038,0400)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Visit Admission</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Referring Physician's</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0090)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Referring Physician's Address</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0092)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Referring Physician's Phone Numbers</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0094)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Admitting Diagnosis Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1080)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Admitting Date</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0038,0020)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Admitting Time</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0038,0021)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Patient Identification</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Issuer of Patient ID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,0021)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Patient Demographic</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Occupation</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,2180)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Address</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,1040)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Country of Residence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,2150)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Telephone Numbers</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,2154)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Ethnic Group</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,2160)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Religious Preference</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,21F0)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient Comments</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,4000)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="3" rowspan="1">
                                          <p>Patient Medical</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Smoking Status</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,21A0)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Last Menstrual Date</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,21D0)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>DICOMSRV returns C-FIND response statuses as specified below.</p>
                        <div class="table">
                           <a id="table_C.4.2-8" shape="rect"></a>
                           <p class="title">
                              <strong>Table C.4.2-8. MWL C-FIND Response Status Reasons</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Reasons</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matching is complete</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="3" colspan="1">
                                          <p>Failure</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Out of resources</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A700</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>If the number of matches exceeds a configurable maximum this error code is returned. An error comment describing the error is also returned. The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Identifier does not match SOP class</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A900</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This status is returned if the C-FIND request specifies query or Return keys that are not specified as part of the Modality Worklist Information Model - FIND SOP Class. The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Unable to process</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>C001</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This status is returned due to internal errors within DICOMSRV such as a processing failure response on a query of the DICOMRis database. The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Canceled</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matching terminated due to cancel request</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FE00</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This status is returned if a Cancel Request is received from the SCU during the processing of a Modality Worklist request. The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>Pending</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matching is continuing</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FF00</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The status is returned with each matching response. A message is logged for each pending response.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matching is continuing - Current match is supplied and any optional keys were supported in the same matter as required keys</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FF01</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The status is returned with each matching response if one or more optional matching or return keys are not supported for existence. A message is logged for each pending response.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.4.2" shape="rect"></a>C.4.2.1.4.2 Activity - Configured AE Makes Procedure Step Request</h6>
                           </div>
                        </div>
                     </div>
                     <p>When a configured remote AE sends a conformant association request including one of the Modality Performed Procedure Step Presentation Contexts in the table below then DICOMSRV will accept the Association.</p>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.2.1" shape="rect"></a>C.4.2.1.4.2.1 Description and Sequencing of Activities</h6>
                              </div>
                           </div>
                        </div>
                        <p>As mentioned above, DICOMSRV is started at system boot time and is thus ready to process MPPS messages at any time thereafter. The sequencing diagram below specifies a common flow of messages related to this activity. Prior to this sequence of messages it is necessary that orders have been received from the HIS interface or created via DICOMRis Ordering and Scheduling application. Attributes from the orders and created procedures, usually queried using MWL, will be included in the MPPS messages the Modality sends to DICOMSRV. Key attributes in the MPPS N-CREATE and N-SET, specified below, are extracted and matched against values in the DICOMRis database. A match allows full update of all applicable DICOMRis database tables.</p>
                        <p>
                  </p>
                        <div class="figure">
                           <a id="figure_C.4.2-2" shape="rect"></a>
                           <div class="figure-contents">
                              <div class="mediaobject">
                                 <img src="figures/PS3.2_C.4.2-2.svg" alt="Sequencing Diagram for Activity: Configured AE Makes Procedure Step Request" />
                              </div>
                           </div>
                           <p class="title">
                              <strong>Figure C.4.2-2. Sequencing Diagram for Activity: Configured AE Makes Procedure Step Request</strong>
                           </p>
                        </div>
                        <p>
                           <br class="figure-break" clear="none" />
                        </p>
                        <p>The figure above is a possible sequence of messages and events for the Configured AE Makes Procedure Step Request activity.</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>The Modality opens an Association to update DICOMSRV using MPPS</p>
                              </li>
                              <li class="listitem">
                                 <p>The Modality sends an N-CREATE Request to indicate that it is performing one or more Requested Procedures</p>
                              </li>
                              <li class="listitem">
                                 <p>The Modality performs all or part of the procedure(s)</p>
                              </li>
                              <li class="listitem">
                                 <p>DICOMSRV stores the MPPS and executes the matching algorithm described in the conformance section below. If a successful match is found, then updates to various tables per the N-CREATE are performed. See <a class="xref" href="sect_C.4.html#table_C.4.2-10" title="Table C.4.2-10. Supported N-SET/N-CREATE Attributes for MPPS" shape="rect">Table C.4.2-10</a> for additional detail. In the matching case, the procedure state of the procedure(s) referenced in the MPPS is updated if so configured</p>
                              </li>
                              <li class="listitem">
                                 <p>The Modality sends an N-SET setting the status of the MPPS to COMPLETED</p>
                              </li>
                              <li class="listitem">
                                 <p>DICOMSRV stores the MPPS. If the N-CREATE for this step matched then updates are performed as specified in step 4</p>
                              </li>
                              <li class="listitem">
                                 <p>The Modality closes the Association</p>
                              </li>
                           </ol>
                        </div>
                        <p>DICOMSRV also supports the 5 IHE Unidentified Patient Use Cases. Cases 1, 2 and 4 are transparent to the MPPS SCU and follow the normal flow. In case 3, the patient upon whom a given procedure must be immediately performed has been registered on the HIS and has a valid Patient ID but has no order specifying the applicable procedure. DICOMSRV recognizes this case when an MPPS N-CREATE is received with a matching Patient ID, zero-length Accession Number (0008,0050) and Requested Procedure ID (0040,1001). If the MPPS SCU is configured for support of IHE Trauma cases, DICOMSRV will order a procedure corresponding to the code contained in the Procedure Code Sequence (0008,1032), if this code is recognized, or will order a default procedure based on configuration. If the default procedure is ordered then a user may modify the procedure using DICOMRis Ordering and Scheduling application.</p>
                        <p>In case 5, there is no existing registration or order for a patient on whom a procedure must be immediately performed. Values are entered on the Modality identifying the patient and procedure. DICOMSRV recognizes this case when an MPPS N-CREATE is received containing a Patient ID within a configured range. This range will never contain Patient IDs created in the normal flow. If the MPPS SCU is configured for support of IHE Trauma cases, DICOMSRV will register the patient with the Patient ID provided and will order a procedure as described above.</p>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.4.2.2" shape="rect"></a>C.4.2.1.4.2.2 Accepted Presentation Contexts</h6>
                           </div>
                        </div>
                     </div>
                     <div class="table">
                        <a id="table_C.4.2-9" shape="rect"></a>
                        <p class="title">
                           <strong>Table C.4.2-9. Acceptable Presentation Contexts for AE DICOMSRV and Real-World Activity "Configured AE Makes Procedure Step Request"</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <thead>
                                 <tr valign="top">
                                    <th align="center" colspan="6" rowspan="1">
                                       <p>Presentation Context Table</p>
                                    </th>
                                 </tr>
                                 <tr valign="top">
                                    <th align="center" colspan="2" rowspan="1">
                                       <p>Abstract Syntax</p>
                                    </th>
                                    <th align="center" colspan="2" rowspan="1">
                                       <p>Transfer Syntax</p>
                                    </th>
                                    <th align="center" rowspan="2" colspan="1">
                                       <p>Role</p>
                                    </th>
                                    <th align="center" rowspan="2" colspan="1">
                                       <p>Extended Negotiation</p>
                                    </th>
                                 </tr>
                                 <tr valign="top">
                                    <th align="center" rowspan="1" colspan="1">
                                       <p>Name</p>
                                    </th>
                                    <th align="center" rowspan="1" colspan="1">
                                       <p>UID</p>
                                    </th>
                                    <th align="center" rowspan="1" colspan="1">
                                       <p>Name List</p>
                                    </th>
                                    <th align="center" rowspan="1" colspan="1">
                                       <p>UID List</p>
                                    </th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="2" colspan="1">
                                       <p>Modality Performed Procedure Step SOP Class</p>
                                    </td>
                                    <td align="left" rowspan="2" colspan="1">
                                       <p>1.2.840.10008.3.1.2.3.3</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implicit VR Little Endian</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.2.840.10008.1.2.1</p>
                                    </td>
                                    <td align="left" rowspan="2" colspan="1">
                                       <p>SCP</p>
                                    </td>
                                    <td align="left" rowspan="2" colspan="1">
                                       <p>None</p>
                                    </td>
                                 </tr>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Explicit VR Little Endian</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.2.840.10008.1.2.1</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                     <p>DICOMSRV's preferred Transfer Syntax is Explicit VR Little Endian and this will be selected if offered.</p>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.2.3" shape="rect"></a>C.4.2.1.4.2.3 SOP Specific Conformance for MPPS SOP Class</h6>
                              </div>
                           </div>
                        </div>
                        <p>The table below lists all Modality Performed Procedure Step attributes, whether they may be created by N-CREATE and updated by N-SET and what parts of the DICOMRis database they are used to update. All MPPS messages and thus their attributes are stored for the configurable Purge Period described below. The 'Database Updates' column considers updates separate from the storage of MPPS messages. If no value is present this indicates that there are is no update to the database associated with the given element.</p>
                        <div class="table">
                           <a id="table_C.4.2-10" shape="rect"></a>
                           <p class="title">
                              <strong>Table C.4.2-10. Supported N-SET/N-CREATE Attributes for MPPS</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Attribute Name</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Tag</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>N-Create</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>N-Set</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Database Updates</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" colspan="5" rowspan="1">
                                          <p>SOP Common Module</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Specific Character Set</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0005)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="5" rowspan="1">
                                          <p>Performed Procedure Step Relationship Module</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Scheduled Step Attribute Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0270)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Study Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0020,000D)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Overwrite existing value if different from received value</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Referenced Study Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1110)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Referenced SOP Class UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1150)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Referenced SOP Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1155)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Accession Number</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0050)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Placer Order Number/Imaging Service Request</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2006)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Filler Order Number/Imaging Service Request</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,2007)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Requested Procedure ID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,1001)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Requested Procedure Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0032,1060)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Scheduled Procedure Step ID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0009)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Scheduled Procedure Step Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0007)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Scheduled Protocol Code Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0008)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Code Value</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0100)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Coding Scheme designator</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0102)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient Name</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,0010)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient ID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,0020)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Birth Date</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,0030)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Sex</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0010,0040)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Referenced Patient Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1120)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Referenced SOP Class UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1150)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Referenced SOP Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1155)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="5" rowspan="1">
                                          <p>Performed Procedure Step Information</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Step ID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0253)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Station AE Title</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0241)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Station Name</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0242)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Location</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0243)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Step Start Date</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0244)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Step Start Time</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0245)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Step Status</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0252)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Step Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0254)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Type Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0255)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Procedure Code Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1032)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Value</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0100)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Coding Scheme Designator</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0102)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Step End Date</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0250)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Procedure Step End Time</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0251)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Comments on the Performed Procedure Step</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0280)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="5" rowspan="1">
                                          <p>Image Acquisition Results</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Modality</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0060)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Study ID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0020,0010)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>N</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Protocol Code Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0260)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="4" colspan="1">
                                          <p>If valued, stored with current and historical procedure records</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Value</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0100)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Coding Scheme Designator</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0102)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Performed Series Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0340)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Performing Physician's Name</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1050)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Protocol Name</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0018,1030)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored with current and historical tables</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Operator's Name</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1070)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>If automatic setting of procedure states is enabled, stored in current and historical procedure tables to indicate who modified the state of the procedure</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Series Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0020,000E)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Series Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,103E)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Retrieve AE Title</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0054)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Referenced Image Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1140)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Referenced SOP Class UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1150)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Referenced SOP Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1155)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Referenced Standalone SOP Instance Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0220)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Referenced SOP Class UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1150)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Referenced SOP Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,1155)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="5" rowspan="1">
                                          <p>Radiation Dose</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Anatomic Structure, Space or Region Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,2229)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Value</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0100)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Coding Scheme Designator</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0102)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Total Time of Fluoroscopy</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0300)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored in Procedure Techniques table</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Total Number of Exposures</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0301)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored in Procedure Techniques table</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Distance Source to Detector</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0018,1110)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored in Procedure Techniques table</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Distance Source to Entrance</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0306)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored in Procedure Techniques table</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Entrance Dose</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0302)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored in Procedure Techniques table</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Entrance Dose in mGy</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,8302)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Exposed Area</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0303)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored in Procedure Techniques table</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Image Area Dose Product</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0018,115E)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Stored in Procedure Techniques table</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Comments on Radiation Dose</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0310)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="5" rowspan="1">
                                          <p>Billing and Material Management Code</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Billing Procedure Step Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Value</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0100)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Coding Scheme Designator</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0102)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Film Consumption Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0321)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt; Number of Films</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(2100,0170)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="3" colspan="1">
                                          <p>Updates Supply and Film-Procedure Tables</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt; Medium Type</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(2000,0030)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt; Film Size ID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(2010,0050)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Billing Supplies and Devices Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0384)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Billing Item Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0296)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1"></td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Code Value</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0100)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="left" rowspan="9" colspan="1">
                                          <p>Updates Supply table if Coding Scheme Designator for Billing Item Sequence is DICOMRIS_SUPPLY and the Code Value is a value from this Code Set</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Coding Scheme Designator</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0102)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;Quantity Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0293)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Quantity</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0294)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;Measuring Units Sequence</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0040,0295)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;&gt;Code Value</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0100)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;&gt;Coding Scheme Designator</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0102)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>&gt;&gt;&gt;Code Meaning</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>(0008,0104)</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>Y</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>The list below details the behavior of DICOMSRV on occurrence of certain MPPS events and with respect to the coercion of attributes and duration of storage of MPPS messages:</p>
                        <div class="itemizedlist">
                           <ul class="itemizedlist" style="list-style-type: disc; ">
                              <li class="listitem">
                                 <p>Reception of a New MPPS Instance - The MPPS message is stored in the database. DICOMSRV will then extract the Patient ID (0020,0010) and as many Accession Numbers (0008,0050) as there are items in the Scheduled Step Attribute Sequence (0040,0270) from the N-CREATE and try to match these values against the Patient Medical Record Number and one or more Accession Numbers in the DICOMRis database. If a non-matching N-CREATE is received, it and any following N-SETs will be marked as exceptions. These exceptions can be reconciled using the RisView application. Otherwise, DICOMSRV will:</p>
                              </li>
                              <li class="listitem">
                                 <p>Update its database with values contained in the N-CREATE per table above.</p>
                              </li>
                              <li class="listitem">
                                 <p>Update the state of each referenced procedure if so configured.</p>
                              </li>
                              <li class="listitem">
                                 <p>Update of MPPS to 'DISCONTINUED' or 'COMPLETED' - The N-SET is stored in the database. If the preceding N-CREATE matched then the following is done:</p>
                              </li>
                              <li class="listitem">
                                 <p>The attribute values in the N-SET will be used to update the DICOMRis database per table above.</p>
                              </li>
                              <li class="listitem">
                                 <p>Update the state of each referenced procedure if so configured.</p>
                              </li>
                              <li class="listitem">
                                 <p>Coercion of Attributes - DICOMSRV will coerce attributes as specified in <a class="xref" href="sect_C.8.html#table_C.8.1-3" title="Table C.8.1-3. Coerced Fields for Modality Performed Procedure Step" shape="rect">Table C.8.1-3</a>. This coercion may occur when a given step is set to the 'IN PROGRESS' or 'COMPLETED' or 'DISCONTINUED'</p>
                              </li>
                              <li class="listitem">
                                 <p>Storage Duration for MPPS Messages - MPPS messages are purged from the DICOMRis database after a configurable period of time has elapsed since the step has been set to a final state or was last updated.</p>
                              </li>
                           </ul>
                        </div>
                        <div class="table">
                           <a id="table_C.4.2-11" shape="rect"></a>
                           <p class="title">
                              <strong>Table C.4.2-11. MPPS N-CREATE/N-SET Response Status Reasons</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Reasons</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Successful completion of the N-SET or N-CREATE Request</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="4" colspan="1">
                                          <p>Failure</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Processing Failure</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0110</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Internal error within DICOMSRV. The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Duplicate SOP Instance</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0111</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This status is returned when the SCU has attempted to N-CREATE a SOP Instance that has already been created. The response status code and meaning are logged in the job log file</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>No such SOP Instance</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0112</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Status returned when the SCU is trying to SET a SOP instance that has not been created. The response status code and meaning are logged in the job log file</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Missing Attribute</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0120</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This status is returned if an attribute required to be sent in the N-CREATE or required to be sent before completion of the Procedure Step has not been sent. The response status code and meaning are logged in the job log file.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_C.4.2.1.4.3" shape="rect"></a>C.4.2.1.4.3 Activity - Configured AE Requests Verification</h6>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.3.1" shape="rect"></a>C.4.2.1.4.3.1 Description and Sequencing of Activities</h6>
                              </div>
                           </div>
                        </div>
                        <p>A remote AE sends an Echo Request to verify that DICOMSRV is awake and listening. DICOMSRV responds with success status as long as the request can be parsed.</p>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.3.2" shape="rect"></a>C.4.2.1.4.3.2 Accepted Presentation Contexts</h6>
                              </div>
                           </div>
                        </div>
                        <div class="table">
                           <a id="table_C.4.2-12" shape="rect"></a>
                           <p class="title">
                              <strong>Table C.4.2-12. Acceptable Presentation Contexts for AE DICOMSRV and Real-World Activity Configured AE Requests Verification</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" colspan="6" rowspan="1">
                                          <p>Presentation Context Table</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Abstract Syntax</p>
                                       </th>
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Transfer Syntax</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Role</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Extended Negotiation</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Name List</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>UID List</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>Verification SOP Class</p>
                                       </td>
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>1.2.840.10008.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.3.3" shape="rect"></a>C.4.2.1.4.3.3 SOP Specific Conformance</h6>
                              </div>
                           </div>
                        </div>
                        <p>DICOMSRV provides Standard conformance to the DICOM Verification service class.</p>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.3.4" shape="rect"></a>C.4.2.1.4.3.4 Presentation Context Acceptance Criterion</h6>
                              </div>
                           </div>
                        </div>
                        <p>Depending on configuration, DICOMSRV may or may not accept multiple presentation contexts containing the same abstract syntax.</p>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_C.4.2.1.4.3.5" shape="rect"></a>C.4.2.1.4.3.5 Transfer Syntax Selection Policy</h6>
                              </div>
                           </div>
                        </div>
                        <p>Transfer Syntaxes in addition to the default Implicit VR Little Endian may be configured for a given Abstract Syntax using DICOM Tool's configuration files. When this is done, the first Transfer Syntax encountered in the configuration file, which matches a Transfer Syntax offered for a given Presentation Context, will be selected as the accepted Transfer Syntax for that Presentation Context.</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.4.3" shape="rect"></a>C.4.3 Network Interfaces</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.3.1" shape="rect"></a>C.4.3.1 Physical Network Interface</h4>
                     </div>
                  </div>
               </div>
               <p>The DICOMRis DICOM applications are indifferent to the physical medium over which TCP/IP executes.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.3.2" shape="rect"></a>C.4.3.2 Additional Protocols</h4>
                     </div>
                  </div>
               </div>
               <p>DHCP support can be configured using the Configuration application. If DHCP is not configured a static IP address is assigned.</p>
               <p>If DNS support exists on the local network, then DNS is used for address resolution. The address of the DNS server is retrieved using DHCP if the DHCP option is enabled. If DNS is not supported then the hostnames and addresses are configured in the local hosts file.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.3.3" shape="rect"></a>C.4.3.3 IPv4 and IPv6 Support</h4>
                     </div>
                  </div>
               </div>
               <p>This product supports both IPv4 and IPv6. It does not utilize any of the optional configuration identification or security features of IPv6.</p>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.4.4" shape="rect"></a>C.4.4 Configuration</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.4.1" shape="rect"></a>C.4.4.1 AE Title/Presentation Address Mapping</h4>
                     </div>
                  </div>
               </div>
               <p>The AE Title and port of DICOMSRV is configurable by the user from a GUI-based configuration application. The IP Address is picked by the site and may be changed by a Field Engineer.</p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.4.4.1.1" shape="rect"></a>C.4.4.1.1 Local AE Titles</h5>
                        </div>
                     </div>
                  </div>
                  <div class="table">
                     <a id="table_C.4.2-13" shape="rect"></a>
                     <p class="title">
                        <strong>Table C.4.2-13. AE Title Configuration Table</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>Application Entity</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>Default AE Title</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>Default TCP/IP Port</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>DICOMSRV</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Must be configured</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>104</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.4.4.1.2" shape="rect"></a>C.4.4.1.2 Remote AE Title/Presentation Address Mapping</h5>
                        </div>
                     </div>
                  </div>
                  <p>The AE Titles, host names, port numbers and supported Presentation Contexts of remote applications are configured in file DICOMSRV.cfg. This file is referenced by DICOMTool's software when API calls are made to create Associations to remote AEs</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.4.4.2" shape="rect"></a>C.4.4.2 Parameters</h4>
                     </div>
                  </div>
               </div>
               <p>DICOMSRV configuration parameters related to DICOM communications are below. A blank cell under the 'Default Value' heading indicates that there is no default value for the specific configuration attribute.</p>
               <div class="table">
                  <a id="table_C.4.2-14" shape="rect"></a>
                  <p class="title">
                     <strong>Table C.4.2-14. Configuration Parameters Table</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Parameter</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Configurable</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Default Value</p>
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>General Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for acceptance or rejection Response to an Association Open Request</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>30 Seconds</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for response to TCP/IP connect() request.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>15 Seconds</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out for waiting for data between TCP/IP packets. (Low-level timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>15 Seconds</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for a response to a DIMSE Request</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>30 Seconds</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for the next DIMSE Request</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>60 Seconds</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>Debugging Capabilities</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Hex Dump DIMSE Messages</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Off</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Hex Dump Association Messages</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Off</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>TCP/IP Settings</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>TCP/IP Send Buffer</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>65535 Bytes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>TCP//IP Receive Buffer</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>65535 Bytes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>PacketFilter</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>On. This option enables running of tcpdump utility from the command line to capture TCP packet headers/contents</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>DICOMSRV Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum Number of Simultaneous Associations</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>20</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum Number of Associations to a given device</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>3</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum PDU size the AE can receive</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>65536 Bytes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum PDU size the AE can send</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>No</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>The lower of the value above and the max PDU size specified by the Remote AE in the Association Request</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Validation of DICOM Service Messages</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Validate messages and log validation errors. Do not automatically return error for all validation errors</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>Modality Worklist Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum Number of Matches for an MWL Request</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>100</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time period after Scheduled Date/Time to leave SPS entries in the SPS Worklist</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>2880 min</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>State of Parent Procedure that causes deletion of child SPS Entries</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>PROCEDURE STARTED</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Supported Transfer Syntaxes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Explicit VR Little Endian</p>
                                 <p>Implicit VR Little Endian</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>Modality Performed Procedure Step Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Generate charges based on supplies specified in MPPS transactions</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Off</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Purge Period for MPPS transactions in final state</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>30 days</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>State to automatically set procedures to for a given AE on receipt of matching N-CREATE</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1"></td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>State to automatically set procedures to for a given AE on receipt of matching N-SET COMPLETED</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1"></td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>State to automatically set procedures to for a given AE on receipt of matching N-SET DISCONTINUED</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1"></td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Flag specifying support for IHE Trauma cases for a given AE</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>false</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Patient ID Range to be used for Patient Registration for IHE Trauma case</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1"></td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Default Procedure Code to be used for orders for IHE Trauma cases</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1"></td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Supported Transfer Syntaxes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Explicit VR Little Endian</p>
                                 <p>Implicit VR Little Endian</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_C.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.5.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.3 Introduction </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.2.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.5 Media Interchange</td>
            </tr>
         </table>
      </div>
   </body>
</html>
