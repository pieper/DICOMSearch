<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>F.4 Networking</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.2.html" title="PS3.2" />
      <link rel="up" href="chapter_F.html" title="F DICOM Conformance Statement Query-Retrieve-Server (Informative)" />
      <link rel="prev" href="sect_F.3.html" title="F.3 Introduction" />
      <link rel="next" href="sect_F.5.html" title="F.5 Media Interchange" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">F.4 Networking</th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_F.3.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">F DICOM Conformance Statement Query-Retrieve-Server (Informative)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_F.5.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_F.4" shape="rect"></a>F.4 Networking</h2>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_F.4.1" shape="rect"></a>F.4.1 Implementation Model</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.1.1" shape="rect"></a>F.4.1.1 Application Data Flow</h4>
                     </div>
                  </div>
               </div>
               <p>The division of EXAMPLE-QUERY-RETRIEVE-SERVER into the separate DICOM Application Entities represents a somewhat arbitrary partitioning of functionality. For the purpose of this document they are organized in this manner so as to detail their independent logical functionality.</p>
               <p>By default all of the defined Application Entities have different AE Titles. However, EXAMPLE-QUERY-RETRIEVE-SERVER can be configured so that the QUERY-RETRIEVE-SCP AE and STORAGE-SCU AE share the same Application Entity Title. However, the QUERY-RETRIEVE-SCP AE and STORAGE-SCP AE must have separate Application Entity Titles.</p>
               <p>
            </p>
               <div class="figure">
                  <a id="figure_F.4.1-1" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.2_F.4.1-1.svg" alt="Example-Query-Retrieve-Server DICOM Data Flow Diagram" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure F.4.1-1. Example-Query-Retrieve-Server DICOM Data Flow Diagram</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
               </p>
               <p>The Application Entities detailed in the Application Data Flow Diagram are all Windows NT applications.</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>The STORAGE-SCU AE can send Composite SOP Instances. It handles requests from the QUERY-RETRIEVE-SCP AE to transmit Images to a specific DICOM destination. The STORAGE-SCU AE functions as a C-STORE SCU. (Note that in this example Conformance Statement this STORAGE-SCU AE does not allow a Local User to request that images be sent to a Remote AE. If a 'real' AE does allow this then this should be mentioned here and in the other appropriate areas of the Conformance Statement).</p>
                     </li>
                     <li class="listitem">
                        <p>The QUERY-RETRIEVE-SCP AE can handle incoming query and retrieve requests. It can handle external queries for Patient, Study, Series, and Image data, and also handle Image retrieval requests. The QUERY-RETRIEVE-SCP AE handles retrieval requests by issuing a command to the STORAGE-SCU AE to send the requested Images to the destination specified by the Remote AE. The QUERY-RETRIEVE-SCP AE functions as an SCP for C-FIND and C-MOVE requests.</p>
                     </li>
                     <li class="listitem">
                        <p>The STORAGE-SCP AE can receive incoming DICOM images and add them to the EXAMPLE-QUERY-RETRIEVE-SERVER database. It can respond to external Storage and Verification Requests as a Service Class Provider (SCP) for C-STORE and C-ECHO requests. The STORAGE-SCP AE can also handle Storage Commitment Push Model Requests. It can thus be used to query whether the EXAMPLE-QUERY-RETRIEVE-SERVER will confirm ownership and responsibility for specific Composite SOP Instances. The STORAGE-SCP AE currently only supports image type Composite SOP Instances.</p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.1.2" shape="rect"></a>F.4.1.2 Functional Definition of AEs</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.1.2.1" shape="rect"></a>F.4.1.2.1 Functional Definition of STORAGE-SCU Application Entity</h5>
                        </div>
                     </div>
                  </div>
                  <p>The STORAGE-SCU AE can be invoked by the QUERY-RETRIEVE-SCP AE to trigger the transfer of specific images to a remote destination AE. The STORAGE-SCU AE must be correctly configured with the host and port number of any external DICOM AEs that are to be C-MOVE retrieval destinations. The Presentation Contexts to use are determined from the headers of the DICOM files to be transferred. Some conversion of the DICOM image objects is possible if the original Presentation Context is not supported by the remote destination AE or if compression is preferred.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.1.2.2" shape="rect"></a>F.4.1.2.2 Functional Definition of QUERY-RETRIEVE-SCP Application Entity</h5>
                        </div>
                     </div>
                  </div>
                  <p>The QUERY-RETRIEVE-SCP AE waits for another application to connect at the presentation address configured for its Application Entity Title. When another application connects, QUERY-RETRIEVE-SCP AE expects it to be a DICOM application. QUERY-RETRIEVE-SCP AE will accept Associations with Presentation Contexts for SOP Classes of the DICOM Query-Retrieve Service Class, and Verification Service Class. It will handle query and retrieve requests on these Presentation Contexts and respond with data objects with values corresponding to the contents of the EXAMPLE-QUERY-RETRIEVE-SERVER database. For C-MOVE requests the destination for the image objects is determined from the Destination AE Title contained in the C-MOVE request. When a retrieval request is received, the QUERY-RETRIEVE-SCP AE issues a command to the STORAGE-SCU AE to send the specified images to the C-MOVE Destination AE.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.1.2.3" shape="rect"></a>F.4.1.2.3 Functional Definition of STORAGE-SCP Application Entity</h5>
                        </div>
                     </div>
                  </div>
                  <p>The STORAGE-SCP AE waits for another application to connect at the presentation address configured for its Application Entity Title. When another application connects, the STORAGE-SCP AE expects it to be a DICOM application. The STORAGE-SCP AE will accept Associations with Presentation Contexts for SOP Classes of the Verification, Storage, and Storage Commitment Service Classes. Any images received on such Presentation Contexts will be added to the EXAMPLE-QUERY-RETRIEVE-SERVER database. If a Storage Commitment Push Model N-ACTION Request is received then the STORAGE-COMMITMENT-SCP AE will immediately check if the referenced Composite SOP Instances are in the EXAMPLE-QUERY-RETRIEVE-SERVER database and return an N-EVENT-REPORT Notification. It will never 'cache' Storage Commitment Push Model Requests and wait for Composite SOP Instances to be received at a later time.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.1.3" shape="rect"></a>F.4.1.3 Sequencing of Real-World Activities</h4>
                     </div>
                  </div>
               </div>
               <p>The only sequencing constraint that exists across all the EXAMPLE-QUERY-RETRIEVE-SERVER Application Entities is the fact that a Composite SOP Instance must be received by the STORAGE-SCP AE before Storage Commitment Push Model or Query-Retrieve Requests related to this SOP Instance can be successfully handled:</p>
               <p>
            </p>
               <div class="figure">
                  <a id="figure_F.4.1-2" shape="rect"></a>
                  <div class="figure-contents">
                     <div class="mediaobject">
                        <img src="figures/PS3.2_F.4.1-2.svg" alt="Sequencing Constraints" />
                     </div>
                  </div>
                  <p class="title">
                     <strong>Figure F.4.1-2. Sequencing Constraints</strong>
                  </p>
               </div>
               <p>
                  <br class="figure-break" clear="none" />
               </p>
               <p>Note that the only constraint is for the Composite SOP Instance to be received prior to the other events. For example, it is not necessary for the Storage Commitment Push Model Request to be received prior to receiving Query or Retrieval Requests related to the SOP Instance.</p>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_F.4.2" shape="rect"></a>F.4.2 AE Specifications</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.2.1" shape="rect"></a>F.4.2.1 STORAGE-SCU Application Entity Specification</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.1.1" shape="rect"></a>F.4.2.1.1 SOP Classes</h5>
                        </div>
                     </div>
                  </div>
                  <p>The STORAGE-SCU AE provides Standard Conformance to the following DICOM V3.0 SOP Classes:</p>
                  <div class="table">
                     <a id="table_F.4.2-1" shape="rect"></a>
                     <p class="title">
                        <strong>Table F.4.2-1. SOP Classes for STORAGE-SCU AE</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class Name</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class UID</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCU</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCP</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Verification</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.1.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Image Storage (Retired)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.6</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Multi-frame Storage (Retired)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.3</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Multi-frame Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Computed Radiography Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>CT Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.2</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>MR Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.4</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Secondary Capture Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.7</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>STORAGE-SCU AE can be configured to use the retired US Image objects (US Image Storage, 1.2.840.10008.5.1.4.1.1.6, and US Multi-frame Storage, 1.2.840.10008.5.1.4.1.1.3) rather than the current US SOP Classes for ultrasound images or vice-versa, making any necessary changes to make the transformed image objects conformant to the corresponding SOP Class. This is only done if the external Storage SCP AE does not support the SOP Instance's original SOP Class.</p>
                  <p>By altering the configuration it is possible to support additional or fewer SOP Classes.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.1.2" shape="rect"></a>F.4.2.1.2 Association Establishment Policies</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.1.2.1" shape="rect"></a>F.4.2.1.2.1 General</h6>
                           </div>
                        </div>
                     </div>
                     <p>The STORAGE-SCU AE can only form Associations when requested to do so by the QUERY-RETRIEVE-SCP AE. The STORAGE-SCU AE can only request the opening of an Association. It cannot accept requests to open Associations from external Application Entities.</p>
                     <p>The DICOM standard Application Context Name for DICOM is always proposed:</p>
                     <div class="table">
                        <a id="table_F.4.2-2" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-2. DICOM Application Context for STORAGE-SCU AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Application Context Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.2.840.10008.3.1.1.1</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.1.2.2" shape="rect"></a>F.4.2.1.2.2 Number of Associations</h6>
                           </div>
                        </div>
                     </div>
                     <p>The maximum number of simultaneous Associations is configurable, but is usually limited to a maximum of 10. This configuration largely depends on whether relatively quick response to multiple simultaneous C-MOVE Destination AEs is required or maximum throughput performance is required. If the latter is the case, then no simultaneous Associations are permitted, in order to reduce disk thrashing and thus maximize throughput. The STORAGE-SCU AE can initiate simultaneous Associations to a given external C-MOVE Destination AE up to the maximum number configured. There is no separate limit on the maximum number permitted to the same C-MOVE Destination AE.</p>
                     <p>If the first attempt to open an Association fails then the STORAGE-SCU AE will reschedule the task to attempt it again after a configurable time delay. The number of times to reattempt Association establishment is configurable, with the default being zero.</p>
                     <div class="table">
                        <a id="table_F.4.2-3" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-3. Number of Associations as a SCU for STORAGE-SCU AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of simultaneous Associations</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>10 (Configurable)</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.1.2.3" shape="rect"></a>F.4.2.1.2.3 Asynchronous Nature</h6>
                           </div>
                        </div>
                     </div>
                     <p>The STORAGE-SCU AE does not support asynchronous communication (multiple outstanding transactions over a single Association). All Association requests must be completed and acknowledged before a new operation can be initiated.</p>
                     <div class="table">
                        <a id="table_F.4.2-4" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-4. Asynchronous Nature as a SCU for STORAGE-SCU AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of outstanding asynchronous transactions</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1 (Not Configurable)</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.1.2.4" shape="rect"></a>F.4.2.1.2.4 Implementation Identifying Information</h6>
                           </div>
                        </div>
                     </div>
                     <div class="table">
                        <a id="table_F.4.2-5" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-5. DICOM Implementation Class and Version for STORAGE-SCU AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Class UID</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.840.xxxxxxx.yyy.etc…</p>
                                    </td>
                                 </tr>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Version Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>EX_VERS_01</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                     <p>Note that the STORAGE-SCU AE and QUERY-RETRIEVE-SCP AE use the same Implementation Class UID. All EXAMPLE-QUERY-RETRIEVE-SERVER AEs use the same Implementation Version Name. This Version Name is updated with each new release of the product software, as the different AE versions are never released independently.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.1.3" shape="rect"></a>F.4.2.1.3 Association Initiation Policy</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.1.3.1" shape="rect"></a>F.4.2.1.3.1 Activity - Send Images Requested By an External Peer AE</h6>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.1.3.1.1" shape="rect"></a>F.4.2.1.3.1.1 Description and Sequencing of Activity</h6>
                              </div>
                           </div>
                        </div>
                        <p>The STORAGE-SCU AE will initiate a new Association when the QUERY-RETRIEVE-SCP AE invokes the STORAGE-SCU AE to transmit images. The QUERY-RETRIEVE-SCP AE will issue such a command whenever it receives a valid C-MOVE Request. An Association Request is sent to the specified C-MOVE Destination AE and upon successful negotiation of the required Presentation Context the image transfer is started. In all cases an attempt will be made to transmit all the indicated images in a single Association, but this may not always be possible. The Association will be released when all the images have been sent. If an error occurs during transmission over an open Association then the image transfer is halted. The STORAGE-SCU AE will not attempt to independently retry the image export.</p>
                        <p>Note that the STORAGE-SCU AE does not support the unsolicited sending of SOP Instances using the DICOM Storage Service Class. It will only send SOP Instances in response to a C-MOVE Request from a peer AE.</p>
                        <p>
                  </p>
                        <div class="figure">
                           <a id="figure_F.4.2-1" shape="rect"></a>
                           <div class="figure-contents">
                              <div class="mediaobject">
                                 <img src="figures/PS3.2_F.4.2-1.svg" alt="Sequencing of Activity - Send Images Requested By an External Peer AE" />
                              </div>
                           </div>
                           <p class="title">
                              <strong>Figure F.4.2-1. Sequencing of Activity - Send Images Requested By an External Peer AE</strong>
                           </p>
                        </div>
                        <p>
                           <br class="figure-break" clear="none" />
                        </p>
                        <p>The following sequencing constraints illustrated in <a class="xref" href="sect_F.4.html#figure_F.4.2-1" title="Figure F.4.2-1. Sequencing of Activity - Send Images Requested By an External Peer AE" shape="rect">Figure F.4.2-1</a> apply to the STORAGE-SCU AE:</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>Peer AE requests retrieval of Study, Series, or Images from QUERY-RETRIEVE-SCP AE (C-MOVE-RQ).</p>
                              </li>
                              <li class="listitem">
                                 <p>QUERY-RETRIEVE-SCP AE signals STORAGE-SCU AE to send the image Composite SOP Instances indicated in the C-MOVE-RQ to the C-MOVE Destination AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>STORAGE-SCU AE opens a new Association with the indicated C-MOVE Destination AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>STORAGE-SCU AE sends the indicated Composite SOP Instances.</p>
                              </li>
                              <li class="listitem">
                                 <p>STORAGE-SCU AE closes the Association.</p>
                              </li>
                              <li class="listitem">
                                 <p>The Verification Service is only supported as a utility function for Service staff. It is used only as a diagnostic tool.</p>
                              </li>
                           </ol>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.1.3.1.2" shape="rect"></a>F.4.2.1.3.1.2 Proposed Presentation Contexts</h6>
                              </div>
                           </div>
                        </div>
                        <p>STORAGE-SCU AE will propose Presentation Contexts as shown in the following table:</p>
                        <div class="table">
                           <a id="table_F.4.2-6" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-6. Proposed Presentation Contexts By the STORAGE-SCU AE</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" colspan="4" rowspan="1">
                                          <p>Presentation Context Table</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Abstract Syntax</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Transfer Syntax</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Role</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Ext. Neg.</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Verification</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                          <p>(Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                          <p>(Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                          <p>(Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage (Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage (Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage (Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Computer Radiography Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Computer Radiography Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>CT Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>CT Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>MR Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.4</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>MR Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.4</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Secondary Capture Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.7</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Secondary Capture Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.7</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Secondary Capture Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.7</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                           <h3 class="title">Note</h3>
                           <p>The SOP Classes and Transfer Syntaxes that the STORAGE-SCU AE proposes, as listed above, represent the default behavior. The STORAGE-SCU AE can be configured to propose a subset of these contexts or additional Presentation Contexts. Also, the default Behavior is to propose just a single Transfer Syntax per Presentation Context. However, this can be altered so that every proposed Presentation Context has a unique SOP Class and one or more Transfer Syntaxes. That is, the default behavior is to determine the Transfer Syntaxes the SCP can accept as opposed to which it prefers.</p>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.1.3.1.3" shape="rect"></a>F.4.2.1.3.1.3 SOP Specific Conformance for Verification SOP Class</h6>
                              </div>
                           </div>
                        </div>
                        <p>Standard conformance is provided to the DICOM Verification Service Class as an SCU. The Verification Service as an SCU is actually only supported as a diagnostic service tool for network communication issues.</p>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.1.3.1.4" shape="rect"></a>F.4.2.1.3.1.4 SOP Specific Conformance for Image SOP Classes</h6>
                              </div>
                           </div>
                        </div>
                        <p>Composite DICOM SOP Instances are maintained as DICOM Part 10 compliant files in the EXAMPLE-QUERY-RETRIEVE-SERVER database. The entire set of tags received with the image will be saved in EXAMPLE-QUERY-RETRIEVE-SERVER; this includes all Private and SOP Extended Elements. When a SOP Instance is selected for export from EXAMPLE-QUERY-RETRIEVE-SERVER, its content will be exported as it was originally received except for a few possible exceptions. Some of the Patient demographic and Study information Elements whose values can have been altered due to changes administered on EXAMPLE-QUERY-RETRIEVE-SERVER or changes to the state of the image data due to compression can be altered when the SOP Instance is exported.</p>
                        <p>The Patient demographic and Study information can be entered or altered by several means: manually, or from HL7 messaging,. The replacement behavior depends on which specific DICOM and HL7 services are supported. Also, this behavior is configurable. Values can be altered without changing the SOP Instance UID unless otherwise noted. Refer to the Annex for the specific details of which Elements can have their values altered at time of export.</p>
                        <p>The EXAMPLE-QUERY-RETRIEVE-SERVER creates files called Service Logs that can be used to monitor their status and diagnose any problems that may arise. If any error occurs during DICOM communication then appropriate messages are always output to these Service Logs. In addition, error messages may be output as alerts to the User Interface in certain cases.</p>
                        <p>The STORAGE-SCU AE will exhibit the following Behavior according to the Status Code value returned in a C-STORE Response from a destination C-STORE SCP:</p>
                        <div class="table">
                           <a id="table_F.4.2-7" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-7. STORAGE-SCU AE C-STORE Response Status Handling Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The SCP has successfully stored the exported SOP Instance. A message is sent to the QUERY-RETRIEVE-SCP AE indicating successful export. The QUERY-RETRIEVE-SCP AE will send the appropriate PENDING or SUCCESS Status in the C-MOVE Response.</p>
                                          <p>Success indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Refused</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Out of Resources</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A700 -A7FF</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This is treated as a permanent Failure. A message is sent to the QUERY-RETRIEVE-SCP AE indicating an export failure and the Association is released. The QUERY-RETRIEVE-SCP AE will send an appropriate Status in the C-MOVE Response.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Data Set does not match SOP Class</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A900 -A9FF</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This is treated as a permanent Failure. A message is sent to the QUERY-RETRIEVE-SCP AE indicating an export failure and the Association is released. The QUERY-RETRIEVE-SCP AE will send an appropriate Status in the C-MOVE Response.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Cannot Understand</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>C000 -CFFF</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This is treated as a permanent Failure. A message is sent to the QUERY-RETRIEVE-SCP AE indicating an export failure and the Association is released. The QUERY-RETRIEVE-SCP AE will send an appropriate Status in the C-MOVE Response.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Warning</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Coercion of Data Elements</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>B000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Image transmission is considered successful. A message is sent to the QUERY-RETRIEVE-SCP AE indicating successful export. The QUERY-RETRIEVE-SCP AE will send the appropriate PENDING or SUCCESS Status in the C-MOVE Response.</p>
                                          <p>Warning indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Warning</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Data Set does not match SOP Class</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>B007</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Image transmission is considered successful. A message is sent to the QUERY-RETRIEVE-SCP AE indicating successful export. The QUERY-RETRIEVE-SCP AE will send the appropriate PENDING or SUCCESS Status in the C-MOVE Response.</p>
                                          <p>Warning indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Warning</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Elements Discarded</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>B006</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Image transmission is considered successful. A message is sent to the QUERY-RETRIEVE-SCP AE indicating successful export. The QUERY-RETRIEVE-SCP AE will send the appropriate PENDING or SUCCESS Status in the C-MOVE Response.</p>
                                          <p>Warning indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Warning</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Attribute List Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0107</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Image transmission is considered successful. A message is sent to the QUERY-RETRIEVE-SCP AE indicating successful export. The QUERY-RETRIEVE-SCP AE will send the appropriate PENDING or SUCCESS Status in the C-MOVE Response.</p>
                                          <p>Warning indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Warning</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Attribute Value Out of Range</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0116</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Image transmission is considered successful. A message is sent to the QUERY-RETRIEVE-SCP AE indicating successful export. The QUERY-RETRIEVE-SCP AE will send the appropriate PENDING or SUCCESS Status in the C-MOVE Response.</p>
                                          <p>Warning indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>*</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>*</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Any other status code.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This is treated as a permanent Failure. A message is sent to the QUERY-RETRIEVE-SCP AE indicating an export failure and the Association is released. The QUERY-RETRIEVE-SCP AE will send an appropriate Status in the C-MOVE Response.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>All Status Codes indicating an error or refusal are treated as a permanent failure. The STORAGE-SCU AE never automatically resends images when an error Status Code is returned in a C-STORE Response. For specific behavior regarding Status Code values returned in C-MOVE Responses, refer to the Services Supported as an SCP by the QUERY-RETRIEVE-SCP AE.</p>
                        <div class="table">
                           <a id="table_F.4.2-8" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-8. STORAGE-SCU AE Communication Failure Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Exception</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM Message Response (DIMSE level timeout).</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted using a DICOM A-ABORT and a message is sent to the QUERY-RETRIEVE-SCP AE indicating an export failure. The QUERY-RETRIEVE-SCP AE will send an appropriate Status in the C-MOVE Response.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM PDU or TCP/IP packet (Low-level timeout).</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted using a DICOM A-ABORT and a message is sent to the QUERY-RETRIEVE-SCP AE indicating an export failure. The QUERY-RETRIEVE-SCP AE will send an appropriate Status in the C-MOVE Response.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Association A-ABORTed by the SCP or the network layers indicate communication loss (i.e., low-level TCP/IP socket closure)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A message is sent to the QUERY-RETRIEVE-SCP AE indicating an export failure. The QUERY-RETRIEVE-SCP AE will send an appropriate Status in the C-MOVE Response.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.1.4" shape="rect"></a>F.4.2.1.4 Association Acceptance Policy</h5>
                        </div>
                     </div>
                  </div>
                  <p>The STORAGE-SCU AE does not accept Associations.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.2.2" shape="rect"></a>F.4.2.2 QUERY-RETRIEVE-SCP Application Entity Specification</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.2.1" shape="rect"></a>F.4.2.2.1 SOP Classes</h5>
                        </div>
                     </div>
                  </div>
                  <p>The QUERY-RETRIEVE-SCP AE provides Standard Conformance to the following DICOM V3.0 SOP Classes:</p>
                  <div class="table">
                     <a id="table_F.4.2-9" shape="rect"></a>
                     <p class="title">
                        <strong>Table F.4.2-9. SOP Classes for QUERY-RETRIEVE-SCP AE</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class Name</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class UID</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCU</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCP</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Patient Root Q/R Information Model - FIND</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.2.1.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Patient Root Q/R Information Model - MOVE</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.2.1.2</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Study Root Q/R Information Model - FIND</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.2.2.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Study Root Q/R Information Model - MOVE</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.2.2.2</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.2.2" shape="rect"></a>F.4.2.2.2 Association Policies</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.2.2.1" shape="rect"></a>F.4.2.2.2.1 General</h6>
                           </div>
                        </div>
                     </div>
                     <p>The QUERY-RETRIEVE-SCP AE will never initiate Associations; it only accepts Association Requests from external DICOM AEs. The QUERY-RETRIEVE-SCP AE will accept Associations for Verification, C-FIND, and C-MOVE requests. In the case of a C-MOVE request, the QUERY-RETRIEVE-SCP AE will issue a command to the STORAGE-SCU AE to initiate an Association with the Destination DICOM AE to send images as specified by the originator of the C-MOVE Request.</p>
                     <p>The DICOM standard Application Context Name for DICOM 3.0 is always accepted:</p>
                     <div class="table">
                        <a id="table_F.4.2-10" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-10. DICOM Application Context for QUERY-RETRIEVE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Application Context Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.2.840.10008.3.1.1.1</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.2.2.2" shape="rect"></a>F.4.2.2.2.2 Number of Associations</h6>
                           </div>
                        </div>
                     </div>
                     <p>The QUERY-RETRIEVE-SCP AE can support multiple simultaneous Associations. Each time the QUERY-RETRIEVE-SCP AE receives an Association, a child process will be spawned to process the Verification, Query, or Retrieval request. The maximum number of child processes, and thus the maximum number of simultaneous Associations that can be processed, is set by configuration. The default maximum is 10 in total. The maximum number of simultaneous Associations can be either an absolute number or a maximum number for each requesting external Application Entity. The latter flexibility can be useful if communication with one external AE is unreliable and one does not wish 'hung' connections with this AE to prevent Associations with other client AEs.</p>
                     <div class="table">
                        <a id="table_F.4.2-11" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-11. Number of Simultaneous Associations as a SCP for QUERY-RETRIEVE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of simultaneous Associations</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>10 (Configurable)</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.2.2.3" shape="rect"></a>F.4.2.2.2.3 Asynchronous Nature</h6>
                           </div>
                        </div>
                     </div>
                     <p>The QUERY-RETRIEVE-SCP AE does not support asynchronous communication (multiple outstanding transactions over a single Association). All Association requests must be completed and acknowledged before a new operation can be initiated.</p>
                     <div class="table">
                        <a id="table_F.4.2-12" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-12. Asynchronous Nature as a SCP for QUERY-RETRIEVE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of outstanding asynchronous transactions</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1 (Not Configurable)</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.2.2.4" shape="rect"></a>F.4.2.2.2.4 Implementation Identifying Information</h6>
                           </div>
                        </div>
                     </div>
                     <p>The implementation information for the Application Entity is:</p>
                     <div class="table">
                        <a id="table_F.4.2-13" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-13. DICOM Implementation Class and Version for QUERY-RETRIEVE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Class UID</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.840.xxxxxxx.yyy.etc…</p>
                                    </td>
                                 </tr>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Version Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>EX_VERS_01</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                     <p>Note that the STORAGE-SCU AE, and QUERY-RETRIEVE-SCP AE use the same Implementation Class UID. All EXAMPLE-QUERY-RETRIEVE-SERVER AEs use the same Implementation Version Name. This Version Name is updated with each new release of the product software, as the different AE versions are never released independently.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.2.3" shape="rect"></a>F.4.2.2.3 Association Initiation Policy</h5>
                        </div>
                     </div>
                  </div>
                  <p>The QUERY-RETRIEVE-SCP AE does not initiate Associations.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.2.4" shape="rect"></a>F.4.2.2.4 Association Acceptance Policy</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.2.4.1" shape="rect"></a>F.4.2.2.4.1 Activity - Handling Query and Retrieval Requests</h6>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.2.4.1.1" shape="rect"></a>F.4.2.2.4.1.1 Description and Sequencing of Activity</h6>
                              </div>
                           </div>
                        </div>
                        <p>The QUERY-RETRIEVE-SCP AE accepts Associations only if they have valid Presentation Contexts. If none of the requested Presentation Contexts are accepted then the Association Request itself is rejected. It can be configured to only accept Associations with certain hosts (using TCP/IP address) and/or Application Entity Titles.</p>
                        <p>If QUERY-RETRIEVE-SCP AE receives a query (C-FIND) request then the response(s) will be sent over the same Association used to send the C-FIND-Request.</p>
                        <p>If QUERY-RETRIEVE-SCP AE receives a retrieval (C-MOVE) request then the responses will be sent over the same Association used to send the C-MOVE-Request. The QUERY-RETRIEVE-SCP AE will notify the STORAGE-SCU to send the requested SOP Instances to the C-MOVE Destination. The STORAGE-SCU AE notifies the QUERY-RETRIEVE-SCP AE of the success or failure of each attempt to send a Composite SOP Instance to the peer C-MOVE Destination AE. The QUERY-RETRIEVE-SCP AE then sends a C-MOVE Response indicating this status after each attempt. Once the STORAGE-SCU AE has finished attempting to transfer all the requested SOP Instances, the QUERY-RETRIEVE-SCP AE sends a final C-MOVE Response indicating the overall status of the attempted retrieval.</p>
                        <p>
                  </p>
                        <div class="figure">
                           <a id="figure_F.4.2-2" shape="rect"></a>
                           <div class="figure-contents">
                              <div class="mediaobject">
                                 <img src="figures/PS3.2_F.4.2-2.svg" alt="Sequencing of Activity - Handling Query and Retrieval Requests" />
                              </div>
                           </div>
                           <p class="title">
                              <strong>Figure F.4.2-2. Sequencing of Activity - Handling Query and Retrieval Requests</strong>
                           </p>
                        </div>
                        <p>
                           <br class="figure-break" clear="none" />
                        </p>
                        <p>The following sequencing constraints illustrated in <a class="xref" href="sect_F.4.html#figure_F.4.2-2" title="Figure F.4.2-2. Sequencing of Activity - Handling Query and Retrieval Requests" shape="rect">Figure F.4.2-2</a> apply to the QUERY-RETRIEVE-SCP AE for handling queries (C-FIND-Requests) :</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>Peer AE opens an Association with the QUERY-RETRIEVE-SCP AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE sends a C-FIND-RQ Message</p>
                              </li>
                              <li class="listitem">
                                 <p>QUERY-RETRIEVE-SCP AE returns a C-FIND-RSP Message to the peer AE with matching information. A C-FIND-RSP is sent for each entity matching the identifier specified in the C-FIND-RQ. A final C-FIND-RSP is sent indicating that the matching is complete.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE closes the Association. Note that the peer AE does not have to close the Association immediately. Further C-FIND or C-MOVE Requests can be sent over the Association before it is closed.</p>
                              </li>
                           </ol>
                        </div>
                        <p>The following sequencing constraints illustrated in <a class="xref" href="sect_F.4.html#figure_F.4.2-2" title="Figure F.4.2-2. Sequencing of Activity - Handling Query and Retrieval Requests" shape="rect">Figure F.4.2-2</a> apply to the QUERY-RETRIEVE-SCP AE for handling retrievals (C-MOVE-Requests) :</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>Peer AE opens an Association with the QUERY-RETRIEVE-SCP AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE sends a C-MOVE-RQ Message</p>
                              </li>
                              <li class="listitem">
                                 <p>QUERY-RETRIEVE-SCP AE notifies the STORAGE-SCU AE to send the Composite SOP Instances to the peer C-MOVE Destination AE as indicated in the C-MOVE-RQ.</p>
                              </li>
                              <li class="listitem">
                                 <p>After attempting to send a SOP Instance, the STORAGE-SCU AE indicates to the QUERY-RETRIEVE-SCP AE whether the transfer succeeded or failed. The QUERY-RETRIEVE-SCP AE then returns a C-MOVE-RSP indicating this success or failure.</p>
                              </li>
                              <li class="listitem">
                                 <p>Once the STORAGE-SCU AE has completed all attempts to transfer the SOP Instances to the C-MOVE Destination AE, or the first failure occurred, the QUERY-RETRIEVE-SCP AE sends a final C-MOVE-RSP indicating the overall success or failure of the retrieval.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE closes the Association. Note that the peer AE does not have to close the Association immediately. Further C-FIND or C-MOVE Requests can be sent over the Association before it is closed.</p>
                              </li>
                           </ol>
                        </div>
                        <p>The QUERY-RETRIEVE-SCP AE may reject Association attempts as shown in the table below. The Result, Source and Reason/Diag columns represent the values returned in the corresponding fields of an ASSOCIATE-RJ PDU (see <a href="../part08/sect_9.3.html#sect_9.3.4" class="olink" shape="rect">Section 9.3.4 “A-ASSOCIATE-RJ PDU Structure” in <span class="olinkdocname">PS3.8</span>
                           </a>). The following abbreviations are used in the Source column:</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="a">
                              <li class="listitem">
                                 <p>1 - DICOM UL service-user</p>
                              </li>
                              <li class="listitem">
                                 <p>2 - DICOM UL service-provider (ASCE related function)</p>
                              </li>
                              <li class="listitem">
                                 <p>3 - DICOM UL service-provider (Presentation related function)</p>
                              </li>
                           </ol>
                        </div>
                        <div class="table">
                           <a id="table_F.4.2-14" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-14. Association Rejection Reasons</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Result</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Source</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Reason/Diag</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Explanation</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - rejected-transient</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>c</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - local-limit-exceeded</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The (configurable) maximum number of simultaneous Associations has been reached. An Association request with the same parameters may succeed at a later time.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - rejected-transient</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>c</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - temporary-congestion</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>No Associations can be accepted at this time due to the real-time requirements of higher priority activities (e.g., during image acquisition no Associations will be accepted) or because insufficient resources are available (e.g., memory, processes, threads). An Association request with the same parameters may succeed at a later time.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>a</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - application-context-name-not-supported</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request contained an unsupported Application Context Name. An association request with the same parameters will not succeed at a later time.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>a</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>7 - called-AE-title-not-recognized</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request contained an unrecognized Called AE Title. An Association request with the same parameters will not succeed at a later time unless configuration changes are made. This rejection reason normally occurs when the Association initiator is incorrectly configured and attempts to address the Association acceptor using the wrong AE Title.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>a</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>3 - calling-AE-title-not-recognized</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request contained an unrecognized Calling AE Title. An Association request with the same parameters will not succeed at a later time unless configuration changes are made. This rejection reason normally occurs when the Association acceptor has not been configured to recognize the AE Title of the Association initiator.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>b</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - no-reason-given</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request could not be parsed. An Association request with the same format will not succeed at a later time.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.2.4.1.2" shape="rect"></a>F.4.2.2.4.1.2 Accepted Presentation Contexts</h6>
                              </div>
                           </div>
                        </div>
                        <p>QUERY-RETRIEVE-SCP AE will accept Presentation Contexts as shown in the following table:</p>
                        <div class="table">
                           <a id="table_F.4.2-15" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-15. Accepted Presentation Contexts By the QUERY-RETRIEVE-SCP AE</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" colspan="6" rowspan="1">
                                          <p>Presentation Context Table</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Abstract Syntax</p>
                                       </th>
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Transfer Syntax</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Role</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Extended Negotiation</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Verification</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient Root Q/R Information Model - FIND</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.2.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient Root Q/R Information Model - MOVE</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.2.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Study Root Q/R Information Model - FIND</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.2.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Study Root Q/R Information Model - MOVE</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.2.2.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.2.4.1.3" shape="rect"></a>F.4.2.2.4.1.3 SOP Specific Conformance for Query SOP Classes</h6>
                              </div>
                           </div>
                        </div>
                        <p>The QUERY-RETRIEVE-SCP AE supports hierarchical queries and not relational queries. There are no attributes always returned by default. Only those attributes requested in the query identifier are returned. Query responses always return values from the EXAMPLE-QUERY-RETRIEVE-SERVER database. Exported SOP Instances are always updated with the latest values in the database prior to export. Thus, a change in Patient demographic information will be contained in both the C-FIND Responses and any Composite SOP Instances exported to a C-MOVE Destination AE.</p>
                        <p>Patient Root Information Model</p>
                        <p>All required search keys on each of the four levels (Patient, Study, Series, and Image) are supported. However, the Patient ID (0010,0020) key must have at least a partial value if the Patient's Name (0010,0010) is not present in a Patient Level query.</p>
                        <p>Study Root Information Model</p>
                        <p>All the required search keys on each of the three levels (Study, Series, and Image) are supported. If no partial values are specified for Study attributes then either the Patient ID (0010,0020) key or the Patient's Name (0010,0010) must have at least a partial value specified.</p>
                        <div class="table">
                           <a id="table_F.4.2-16" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-16. Patient Root C-FIND SCP Supported Elements</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Level Name</p>
                                          <p>Attribute Name</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Tag</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>VR</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Types of Matching</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>SOP Common</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Specific Character Set</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0008,0005</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>CS</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>NONE</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>Patient Level</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Name</p>
                                          <p>Patient ID</p>
                                          <p>Patient's Birth Date</p>
                                          <p>Patient's Sex</p>
                                          <p>Other Patient IDs</p>
                                          <p>Other Patient Names</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0010,0010</p>
                                          <p>0010,0020</p>
                                          <p>0010,0030</p>
                                          <p>0010,0040</p>
                                          <p>0010,1000</p>
                                          <p>0010,1001</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>PN</p>
                                          <p>LO</p>
                                          <p>DA</p>
                                          <p>CS</p>
                                          <p>LO</p>
                                          <p>PN</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>S,*,U</p>
                                          <p>S,*,U</p>
                                          <p>S,U</p>
                                          <p>S,U</p>
                                          <p>NONE</p>
                                          <p>NONE</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>Study Level</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Study Date</p>
                                          <p>Study Time</p>
                                          <p>Accession Number</p>
                                          <p>Study ID</p>
                                          <p>Study Instance UID</p>
                                          <p>Referring Physician's Name</p>
                                          <p>Study Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0008,0020</p>
                                          <p>0008,0030</p>
                                          <p>0008,0050</p>
                                          <p>0020,0010</p>
                                          <p>0020,000D</p>
                                          <p>0008,0090</p>
                                          <p>0008,1030</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>DA</p>
                                          <p>TM</p>
                                          <p>SH</p>
                                          <p>SH</p>
                                          <p>UI</p>
                                          <p>PN</p>
                                          <p>LO</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>S,R,U</p>
                                          <p>R,U</p>
                                          <p>S,*,U</p>
                                          <p>S,*,U</p>
                                          <p>S,U,L</p>
                                          <p>S,*,U</p>
                                          <p>S,*,U</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>Series Level</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Modality</p>
                                          <p>Series Number</p>
                                          <p>Series Instance UID</p>
                                          <p>Operator's Name</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0008,0060</p>
                                          <p>0020,0011</p>
                                          <p>0020,000E</p>
                                          <p>0008,1070</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>CS</p>
                                          <p>IS</p>
                                          <p>UI</p>
                                          <p>PN</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>S,U</p>
                                          <p>S,*,U</p>
                                          <p>S,U,L</p>
                                          <p>NONE</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>Image Level</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Instance Number</p>
                                          <p>SOP Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0020,0013</p>
                                          <p>0008,0018</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>IS</p>
                                          <p>UI</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>S,*,U</p>
                                          <p>S,U,L</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <div class="table">
                           <a id="table_F.4.2-17" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-17. Study Root C-FIND SCP Supported Elements</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Level Name</p>
                                          <p>Attribute Name</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Tag</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>VR</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Types of Matching</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>SOP Common</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Specific Character Set</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0008,0005</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>CS</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>NONE</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>Study Level</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Patient's Name</p>
                                          <p>Patient ID</p>
                                          <p>Patient's Birth Date</p>
                                          <p>Patient's Sex</p>
                                          <p>Other Patient IDs</p>
                                          <p>Other Patient Names</p>
                                          <p>Study Date</p>
                                          <p>Study Time</p>
                                          <p>Accession Number</p>
                                          <p>Study ID</p>
                                          <p>Study Instance UID</p>
                                          <p>Referring Physician's Name</p>
                                          <p>Study Description</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0010,0010</p>
                                          <p>0010,0020</p>
                                          <p>0010,0030</p>
                                          <p>0010,0040</p>
                                          <p>0010,1000</p>
                                          <p>0010,1001</p>
                                          <p>0008,0020</p>
                                          <p>0008,0030</p>
                                          <p>0008,0050</p>
                                          <p>0020,0010</p>
                                          <p>0020,000D</p>
                                          <p>0008,0090</p>
                                          <p>0008,1030</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>PN</p>
                                          <p>LO</p>
                                          <p>DA</p>
                                          <p>CS</p>
                                          <p>LO</p>
                                          <p>PN</p>
                                          <p>DA</p>
                                          <p>TM</p>
                                          <p>SH</p>
                                          <p>SH</p>
                                          <p>UI</p>
                                          <p>PN</p>
                                          <p>LO</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>S,*,U</p>
                                          <p>S,*,U</p>
                                          <p>S,U</p>
                                          <p>S,U</p>
                                          <p>NONE</p>
                                          <p>NONE</p>
                                          <p>S,R,U</p>
                                          <p>R,U</p>
                                          <p>S,*,U</p>
                                          <p>S,*,U</p>
                                          <p>S,U,L</p>
                                          <p>S,*,U</p>
                                          <p>S,*,U</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>Series Level</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Modality</p>
                                          <p>Series Number</p>
                                          <p>Series Instance UID</p>
                                          <p>Operator's Name</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0008,0060</p>
                                          <p>0020,0011</p>
                                          <p>0020,000E</p>
                                          <p>0008,1070</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>CS</p>
                                          <p>IS</p>
                                          <p>UI</p>
                                          <p>PN</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>S,U</p>
                                          <p>S,*,U</p>
                                          <p>S,U,L</p>
                                          <p>NONE</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" colspan="4" rowspan="1">
                                          <p>Image Level</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Instance Number</p>
                                          <p>SOP Instance UID</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>0020,0013</p>
                                          <p>0008,0018</p>
                                       </td>
                                       <td align="center" rowspan="1" colspan="1">
                                          <p>IS</p>
                                          <p>UI</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>S,*,U</p>
                                          <p>S,U,L</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>The tables should be read as follows:</p>
                        <p>Attribute Name: Attributes supported for returned C-FIND Responses.</p>
                        <p>Tag: Appropriate DICOM tag for this attribute.</p>
                        <p>VR: Appropriate DICOM VR for this attribute.</p>
                        <p>Types of Matching: The types of Matching supported by the C-FIND SCP. A "S" indicates the identifier attribute can specify Single Value Matching, a "R" will indicate Range Matching, a "*" will denote wild card matching, an 'U' will indicate universal matching, and 'L' will indicate that UID lists are supported for matching. "NONE" indicates that no matching is supported, but that values for this Element in the database can be returned.</p>
                        <div class="table">
                           <a id="table_F.4.2-19" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-19. QUERY-RETRIEVE-SCP AE C-FIND Response Status Return Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matching is complete. No final identifier is supplied.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Refused</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Out of Resources</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A700</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>System reached the limit in disk space or memory usage.</p>
                                          <p>Error message is output to as an alert to the User Interface, and to the Service Log.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>Failed</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Identifier does not match SOP Class</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A900</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The C-FIND query identifier contains invalid Elements or values, or is missing mandatory Elements or values for the specified SOP Class.</p>
                                          <p>Error message is output to the Service Log.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Unable to process</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>C001</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The C-FIND query identifier is valid for the specified SOP Class but cannot be used to query the database. For example, this can occur if a Patient Level query is issued but the identifier has only empty values for both the Patient ID and the Patient Name.</p>
                                          <p>Error message is output to the Service Log.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Cancel</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matching terminated due to Cancel Request</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FE00</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The C-FIND SCU sent a Cancel Request. This has been acknowledged and the search for matches has been halted.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>Pending</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matches are continuing and current match is supplied.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FF00</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that the search for further matches is continuing. This is returned when each successful match is returned and when further matches are forthcoming. This status code is returned if all Optional keys in the query identifier are actually supported.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matches are continuing but one or more Optional Keys were not supported.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FF01</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that the search for further matches is continuing. This is returned when each successful match is returned and when further matches are forthcoming. This status code is returned if there are Optional keys in the query identifier that are not supported.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.2.4.1.4" shape="rect"></a>F.4.2.2.4.1.4 SOP Specific Conformance for Retrieval SOP Classes</h6>
                              </div>
                           </div>
                        </div>
                        <p>The QUERY-RETRIEVE-SCP AE will convey to the STORAGE-SCU AE that an Association with a DICOM Application Entity named by the external C-MOVE SCU (through a MOVE Destination AE Title) should be established. It will also convey to the STORAGE-SCU AE to perform C-STORE operations on specific images requested by the external C-MOVE SCU. One or more of the Image Storage Presentation Contexts listed in <a class="xref" href="sect_F.4.html#table_F.4.2-6" title="Table F.4.2-6. Proposed Presentation Contexts By the STORAGE-SCU AE" shape="rect">Table F.4.2-6</a> will be negotiated.</p>
                        <p>The QUERY-RETRIEVE-SCP AE can support lists of UIDs in the C-MOVE Request at the Study, Series, and Image Levels. The list of UIDs must be at the Level of the C-MOVE Request however. For example, if the C-MOVE Request is for Series Level retrieval but the identifier contains a list of Study UIDs then the C-MOVE Request will be rejected, and the A900 Failed Status Code will be returned in the C-MOVE Response.</p>
                        <p>An initial C-MOVE Response is always sent after confirming that the C-MOVE Request itself can be processed. After this, the QUERY-RETRIEVE-SCP AE will return a response to the C-MOVE SCU after the STORAGE-SCU AE has attempted to send each image. This response reports the number of remaining SOP Instances to transfer, and the number transferred having a successful, failed, or warning status. If the Composite SOP Instances must be retrieved from long-term archive prior to export there may be quite a long delay between the first C-MOVE Response and the next one after the attempt to export the first image. The maximum length of time for this delay will depend on the particular type of archive used but typically varies between 3 and 10 minutes.</p>
                        <div class="table">
                           <a id="table_F.4.2-20" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-20. QUERY-RETRIEVE-SCP AE C-MOVE Response Status Return Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Sub-operations complete - No Failures</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>All the Composite SOP Instances have been successfully sent to the C-MOVE Destination AE.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="3" colspan="1">
                                          <p>Refused</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Out of Resources - Unable to calculate number of matches</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A701</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Number of matches cannot be determined due to system failure. Returned if the server's database is not functioning so the search for matches to the C-MOVE Request cannot be found.</p>
                                          <p>Error message is output as an alert on the User Interface, and to the Service Log.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Out of Resources - Unable to perform sub-operations</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A702</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>C-STORE sub-operations cannot be performed due to failure to access Composite SOP Instances in archive, or failure of a C-STORE Request. For example, this Status will be returned if the required SOP Instances are determined to be off-line (i.e., the MO media has been removed from the archive jukebox).</p>
                                          <p>Error message is output as an alert on the User Interface, and to the Service Log.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Move destination unknown</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A801</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Destination Application Entity named in the C-MOVE Request is unknown to Query-Retrieve SCP AE.</p>
                                          <p>Error message is output to the Service Log.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Failed</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Identifier does not match SOP Class</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A900</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The C-MOVE identifier contains invalid Elements or values, or is missing mandatory Elements or values for the specified SOP Class or retrieval level.</p>
                                          <p>Error message is output to the Service Log.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Cancel</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Matching terminated due to Cancel Request</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FE00</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The C-MOVE SCU sent a Cancel Request. This has been acknowledged and the export of Composite SOP Instances to the C-MOVE Destination AE has been halted.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Pending</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Sub-operations are continuing</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>FF00</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A Response with this Status Code is sent every time a Composite SOP Instance has been successfully sent to the C-MOVE Destination AE.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>Note that the Warning Status, B000 (Sub-operations complete - One or more Failures) is never returned. If a failure occurs during export to the C-MOVE Destination AE by the STORAGE-SCU AE then the entire task is aborted. Thus any remaining matches are not exported.</p>
                        <div class="table">
                           <a id="table_F.4.2-21" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-21. QUERY-RETRIEVE-SCP AE Communication Failure Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Exception</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM Message Request (DIMSE level timeout). I.e. The QUERY-RETRIEVE-SCP AE is waiting for the next C-FIND or C-MOVE Request on an open Association but the timer expires.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted by issuing a DICOM A-ABORT.</p>
                                          <p>Error message is output to the Service Log. If the STORAGE-SCU AE is still exporting Composite SOP Instances as a result of an earlier C-MOVE Request received on this Association, it will continue attempting to complete the entire C-MOVE Request.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM PDU or TCP/IP packet (Low-level timeout). I.e. The QUERY-RETRIEVE-SCP AE is waiting for the next message PDU but the timer expires.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted by issuing a DICOM A-ABORT.</p>
                                          <p>Error message is output to the Service Log. If the STORAGE-SCU AE is still exporting Composite SOP Instances as a result of an earlier C-MOVE Request received on this Association, it will continue attempting to complete the entire C-MOVE Request.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Association aborted by the SCU or the network layers indicate communication loss (i.e., low-level TCP/IP socket closure)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Error message is output to the Service Log. If the STORAGE-SCU AE is still exporting Composite SOP Instances as a result of an earlier C-MOVE Request received on this Association, it will continue attempting to complete the entire C-MOVE Request.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.2.3" shape="rect"></a>F.4.2.3 STORAGE-SCP Application Entity Specification</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.3.1" shape="rect"></a>F.4.2.3.1 SOP Classes</h5>
                        </div>
                     </div>
                  </div>
                  <p>The STORAGE-SCP AE provides Standard Conformance to the following DICOM V3.0 SOP Classes:</p>
                  <div class="table">
                     <a id="table_F.4.2-22" shape="rect"></a>
                     <p class="title">
                        <strong>Table F.4.2-22. SOP Classes for STORAGE-SCP AE</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class Name</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SOP Class UID</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCU</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>SCP</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Verification</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.1.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Storage Commitment Push Model</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.1.20.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Image Storage (Retired)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.6</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Multi-frame Storage (Retired)</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.3</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>US Multi-frame Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Computed Radiography Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.1</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>CT Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.2</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>MR Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.4</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Secondary Capture Image Storage</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>1.2.840.10008.5.1.4.1.1.7</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>No</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>These are the default SOP Classes supported. By altering the configuration it is possible to support additional or fewer SOP Classes.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.3.2" shape="rect"></a>F.4.2.3.2 Association Policies</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.3.2.1" shape="rect"></a>F.4.2.3.2.1 General</h6>
                           </div>
                        </div>
                     </div>
                     <p>The STORAGE-SCP AE can both accept and propose Association Requests. The STORAGE-SCP AE will accept Association Requests for the Verification, Storage, and Storage Commitment Push Model Services. It will propose Associations only for the Storage Commitment Push Model Service.</p>
                     <p>The DICOM standard Application Context Name for DICOM 3.0 is always accepted and proposed:</p>
                     <div class="table">
                        <a id="table_F.4.2-23" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-23. DICOM Application Context for STORAGE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Application Context Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.2.840.10008.3.1.1.1</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.3.2.2" shape="rect"></a>F.4.2.3.2.2 Number of Associations</h6>
                           </div>
                        </div>
                     </div>
                     <p>The STORAGE-SCP AE can support multiple simultaneous Associations requested by peer AEs. Each time the STORAGE-SCP AE receives an Association, a child process will be spawned to process the Verification, Storage, or Storage Commitment Push Model Service requests. The maximum number of child processes, and thus the maximum number of simultaneous Associations that can be processed, is set by configuration. The default maximum number is 10 in total. This maximum number of simultaneous Associations can be either an absolute number or a maximum number for each requesting external Application Entity. The latter flexibility can be useful if communication with one external AE is unreliable and one does not wish 'hung' connections with this AE to prevent Associations with other client AEs.</p>
                     <p>The STORAGE-SCP AE initiates one Association at a time for sending Storage Commitment Push Model N-EVENT-REPORTs to peer AEs.</p>
                     <div class="table">
                        <a id="table_F.4.2-24" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-24. Number of Simultaneous Associations as an SCP for STORAGE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of simultaneous Associations requested by peer AEs</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>10 (Configurable)</p>
                                    </td>
                                 </tr>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of simultaneous Associations proposed by STORAGE-SCP AE</p>
                                    </td>
                                    <td align="center" rowspan="1" colspan="1">
                                       <p>1</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.3.2.3" shape="rect"></a>F.4.2.3.2.3 Asynchronous Nature</h6>
                           </div>
                        </div>
                     </div>
                     <p>The STORAGE-SCP AE does not support asynchronous communication (multiple outstanding transactions over a single Association). The STORAGE-SCP AE does permit an SCU to send multiple Storage Commitment Push Model Requests before it has sent back any N-EVENT-REPORT Notifications. However, the STORAGE-SCP AE must send an N-ACTION Response before permitting another N-ACTION Request to be received so the DICOM communication itself is not truly asynchronous.</p>
                     <div class="table">
                        <a id="table_F.4.2-25" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-25. Asynchronous Nature as a SCP for STORAGE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of outstanding asynchronous transactions</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1 (Not Configurable)</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                     <p>There is no limit on the number of outstanding Storage Commitment Push Model Requests that can be received and acknowledged before the STORAGE-SCP AE has responded with the corresponding N-EVENT-REPORT Notifications.</p>
                     <div class="table">
                        <a id="table_F.4.2-26" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-26. Outstanding Storage Commitment Push Model Requests for STORAGE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Maximum number of outstanding Storage Commitment Requests for which no N-EVENT Notification has been sent</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>No Maximum Limit</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.3.2.4" shape="rect"></a>F.4.2.3.2.4 Implementation Identifying Information</h6>
                           </div>
                        </div>
                     </div>
                     <p>The implementation information for this Application Entity is:</p>
                     <div class="table">
                        <a id="table_F.4.2-27" shape="rect"></a>
                        <p class="title">
                           <strong>Table F.4.2-27. DICOM Implementation Class and Version for STORAGE-SCP AE</strong>
                        </p>
                        <div class="table-contents">
                           <table frame="box" rules="all">
                              <tbody>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Class UID</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>1.840.xxxxxxx.yyy.etc…</p>
                                    </td>
                                 </tr>
                                 <tr valign="top">
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>Implementation Version Name</p>
                                    </td>
                                    <td align="left" rowspan="1" colspan="1">
                                       <p>EX_VERS_01</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                     </div>
                     <br class="table-break" clear="none" />
                     <p>Note that the STORAGE-SCP AE specifies a different Implementation Class UID than that used by the other Application Entities. All EXAMPLE-QUERY-RETRIEVE-SERVER AEs use the same Implementation Version Name. This Version Name is updated with each new release of the product software, as the different AE versions are never released independently.</p>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.3.3" shape="rect"></a>F.4.2.3.3 Association Initiation Policy</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.3.3.1" shape="rect"></a>F.4.2.3.3.1 Activity - Send Storage Commitment Notification Over New Association</h6>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.3.1.1" shape="rect"></a>F.4.2.3.3.1.1 Description and Sequencing of Activity</h6>
                              </div>
                           </div>
                        </div>
                        <p>The STORAGE-SCP AE will initiate a new Association if a Storage Commitment Push Model Notification (N-EVENT-REPORT) cannot be sent back over the original Association used to send the corresponding request. A new Association will always be requested by the STORAGE-SCP AE in such cases even if the peer AE requests another Association after the original has been closed (i.e., A peer AE opens an Association and sends some Storage requests and a Storage Commitment Push Model request. Before the STORAGE-SCP AE can send the Storage Commitment Push Model N-EVEN-REPORT the Association is closed. The peer AE then opens another Association and begins to send Storage requests. In such a case the STORAGE-SCP AE will always initiate a new Association to send the N-EVENT-REPORT even though it could send the N-EVENT-REPORT over the new Association opened by the peer AE).</p>
                        <p>An Association Request is sent to the peer AE that sent the Storage Commitment Push Model request and upon successful negotiation of the required Presentation Context the outstanding N-EVENT-REPORT is sent. If there are multiple outstanding N-EVENT-REPORTs to be sent to a single peer AE then the STORAGE-SCP AE will attempt to send them all over a single Association rather than requesting a new Association for each one. The Association will be released when all the N-EVENT-REPORTs for the peer AE have been sent. If any type of error occurs during transmission (either a communication failure or indicated by a Status Code returned by the peer AE) over an open Association then the transfer of N-EVENT-REPORTs is halted. A new Association will be opened to retry sending outstanding N-EVENT-REPORTs. The maximum number of times the STORAGE-SCP AE will attempt to resend an N-EVENT-REPORT is configurable, along with the amount of time to wait between attempts to resend.</p>
                        <p>If the STORAGE-SCP AE sends a Notification request (N-EVENT-REPORT-RQ) over the original Association opened by the peer AE but receives a request to close the Association rather than a response to the Notification (N-EVENT-REPORT-RSP) then this is handled in the same way as if the request to close the Association had been received before trying to send the Notification request. Thus, the STORAGE-SCP AE will then open a new Association to resend the Notification request.</p>
                        <p>The STORAGE-SCP AE can be configured to always open a new Association before sending a Storage Commitment Push Model Notifications (N-EVENT-REPORT), in which case the sequencing illustrated in <a class="xref" href="sect_F.4.html#figure_F.4.2-3" title="Figure F.4.2-3. Sequencing of Activity - Send Storage Commitment Notification Over New Association" shape="rect">Figure F.4.2-3</a> will always be followed.</p>
                        <p>
                  </p>
                        <div class="figure">
                           <a id="figure_F.4.2-3" shape="rect"></a>
                           <div class="figure-contents">
                              <div class="mediaobject">
                                 <img src="figures/PS3.2_F.4.2-3.svg" alt="Sequencing of Activity - Send Storage Commitment Notification Over New Association" />
                              </div>
                           </div>
                           <p class="title">
                              <strong>Figure F.4.2-3. Sequencing of Activity - Send Storage Commitment Notification Over New Association</strong>
                           </p>
                        </div>
                        <p>
                           <br class="figure-break" clear="none" />
                        </p>
                        <p>The following sequencing constraints illustrated in <a class="xref" href="sect_F.4.html#figure_F.4.2-3" title="Figure F.4.2-3. Sequencing of Activity - Send Storage Commitment Notification Over New Association" shape="rect">Figure F.4.2-3</a> apply to the STORAGE-SCP AE for handling Storage Commitment Push Model Requests using a new Association:</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>Peer AE opens an Association with the STORAGE-SCP AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE requests Storage Commitment of Composite SOP Instance(s) (peer sends N-ACTION-RQ and STORAGE-SCP AE responds with N-ACTION-RSP to indicate that it received the request).</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE closes the Association before the STORAGE-SCP AE can successfully send the Storage Commitment Push Model Notification (N-EVENT-REPORT-RQ).</p>
                              </li>
                              <li class="listitem">
                                 <p>STORAGE-SCP AE opens an Association with the peer AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>STORAGE-SCP AE sends Storage Commitment Push Model Notification (N-EVENT-REPORT). More than one can be sent over a single Association if multiple Notifications are outstanding.</p>
                              </li>
                              <li class="listitem">
                                 <p>STORAGE-SCP AE closes the Association with the peer AE.</p>
                              </li>
                           </ol>
                        </div>
                        <p>The Verification Service as an SCU is only supported as a utility function for Service staff. It is used only as a diagnostic tool when the STORAGE-SCP AE is failing to open new Associations to send N-EVENT-REPORTs to peer AEs.</p>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.3.1.2" shape="rect"></a>F.4.2.3.3.1.2 Proposed Presentation Contexts</h6>
                              </div>
                           </div>
                        </div>
                        <p>STORAGE-SCP AE will propose Presentation Contexts as shown in the following table:</p>
                        <div class="table">
                           <a id="table_F.4.2-28" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-28. Proposed Presentation Contexts By the STORAGE-SCP AE</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" colspan="6" rowspan="1">
                                          <p>Presentation Context Table</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Abstract Syntax</p>
                                       </th>
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Transfer Syntax</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Role</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Extended Negotiation</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Verification</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCU</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Storage Commitment Push Model</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.20.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Storage Commitment Push Model</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.20.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.3.1.3" shape="rect"></a>F.4.2.3.3.1.3 SOP Specific Conformance for Storage SOP Classes</h6>
                              </div>
                           </div>
                        </div>
                        <p>The associated Activity with the Storage Commitment Push Model service is the communication by the STORAGE-SCP AE to peer AEs that it has committed to permanently store Composite SOP Instances that have been sent to it. It thus allows peer AEs to determine whether the EXAMPLE-QUERY-RETRIEVE-SERVER has taken responsibility for the archiving of specific SOP Instances so that they can be flushed from the peer AE system.</p>
                        <p>The STORAGE-SCP AE will initiate a new Association to a peer AE that sent a Storage Commitment Push Model request if the original Association over which this was sent is no longer open. For a detailed explanation of the SOP specific Behavior of the STORAGE-SCP AE in this case please refer to 4.2.4.4.1.3.3, Storage Commitment Push Model as an SCP.</p>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.3.1.4" shape="rect"></a>F.4.2.3.3.1.4 SOP Specific Conformance for Verification SOP Class</h6>
                              </div>
                           </div>
                        </div>
                        <p>Standard conformance is provided to the DICOM Verification Service Class as an SCU. The Verification Service as an SCU is actually only supported as a diagnostic service tool for network communication issues. It can be used to test whether Associations can actually be opened with a peer AE that is issuing Storage Commitment Push Model requests (i.e., to test whether the indicated TCP/IP port and AE Title for sending N-EVENT-REPORT Requests to the peer AE are truly functional).</p>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.2.3.4" shape="rect"></a>F.4.2.3.4 Association Acceptance Policy</h5>
                        </div>
                     </div>
                  </div>
                  <div class="section">
                     <div class="titlepage">
                        <div>
                           <div>
                              <h6 class="title">
                                 <a id="sect_F.4.2.3.4.1" shape="rect"></a>F.4.2.3.4.1 Activity - Receive Images and Storage Commitment Requests</h6>
                           </div>
                        </div>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.4.1.1" shape="rect"></a>F.4.2.3.4.1.1 Description and Sequencing of Activity</h6>
                              </div>
                           </div>
                        </div>
                        <p>The STORAGE-SCP AE accepts Associations only if they have valid Presentation Contexts. If none of the requested Presentation Contexts are accepted then the Association Request itself is rejected. It can be configured to only accept Associations with certain hosts (using TCP/IP address) and/or Application Entity Titles.</p>
                        <p>The default behavior of the STORAGE-SCP AE is to always attempt to send a Storage Commitment Push Model Notification (N-EVENT-REPORT) over the same Association opened by the peer AE to send the request (N-ACTION). If the STORAGE-SCP AE receives a request to close the Association either before sending the Notification or before receiving the corresponding N-EVENT-REPORT-RSP then it will open a new Association to send the Notification. Refer to <a class="xref" href="sect_F.4.html#sect_F.4.2.3.4.1.5" title="F.4.2.3.4.1.5 SOP Specific Conformance for Storage Commitment SOP Class" shape="rect">Section F.4.2.3.4.1.5</a> for the details.</p>
                        <p>
                  </p>
                        <div class="figure">
                           <a id="figure_F.4.2-4" shape="rect"></a>
                           <div class="figure-contents">
                              <div class="mediaobject">
                                 <img src="figures/PS3.2_F.4.2-4.svg" alt="Sequencing of Activity - Receive Images and Storage Commitment Requests" />
                              </div>
                           </div>
                           <p class="title">
                              <strong>Figure F.4.2-4. Sequencing of Activity - Receive Images and Storage Commitment Requests</strong>
                           </p>
                        </div>
                        <p>
                           <br class="figure-break" clear="none" />
                        </p>
                        <p>The following sequencing constraints illustrated in <a class="xref" href="sect_F.4.html#figure_F.4.2-4" title="Figure F.4.2-4. Sequencing of Activity - Receive Images and Storage Commitment Requests" shape="rect">Figure F.4.2-4</a> apply to the STORAGE-SCP AE for handling Storage Commitment Push Model Requests over the original Association:</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="1">
                              <li class="listitem">
                                 <p>Peer AE opens an Association with the STORAGE-SCP AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE sends zero or more Composite SOP Instances.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE requests Storage Commitment of Composite SOP Instance(s) (peer sends N-ACTION-RQ and STORAGE-SCP AE responds with N-ACTION-RSP to indicate that it received the request).</p>
                              </li>
                              <li class="listitem">
                                 <p>STORAGE-SCP AE sends Storage Commitment Push Model Notification request (N-EVENT-REPORT-RQ) and successfully receives Notification response (N-EVENT-REPORT-RSP) from peer AE.</p>
                              </li>
                              <li class="listitem">
                                 <p>Peer AE closes the Association.</p>
                              </li>
                           </ol>
                        </div>
                        <p>If the STORAGE-SCP AE receives a request to close the Association from the peer AE before sending the Notification request (N-EVENT-REPORT-RQ) or when expecting to receive a Notification response (N-EVENT-REPORT-RSP) then it will open a new Association to send (or resend) the Notification. Refer to 0 for the details. The STORAGE-SCP AE has a configurable timeout value for the maximum amount of time that it will wait on an open Association for a new request from a peer AE. A peer AE can reset this timer by sending a Verification request (C-ECHO-RQ). This can act as a useful mechanism for a peer AE to maintain an active Association if the length of time between sending Storage or Storage Commitment requests can be long (such as when using a single Association to send images as they are acquired during an ultrasound exam).</p>
                        <p>The STORAGE-SCP AE may reject Association attempts as shown in the Table below. The Result, Source and Reason/Diag columns represent the values returned in the corresponding fields of an ASSOCIATE-RJ PDU (see <a href="../part08/sect_9.3.html#sect_9.3.4" class="olink" shape="rect">Section 9.3.4 “A-ASSOCIATE-RJ PDU Structure” in <span class="olinkdocname">PS3.8</span>
                           </a>). The following abbreviations are used in the Source column:</p>
                        <div class="orderedlist">
                           <ol class="orderedlist" type="a">
                              <li class="listitem">
                                 <p>1 - DICOM UL service-user</p>
                              </li>
                              <li class="listitem">
                                 <p>2 - DICOM UL service-provider (ASCE related function)</p>
                              </li>
                              <li class="listitem">
                                 <p>3 - DICOM UL service-provider (Presentation related function)</p>
                              </li>
                           </ol>
                        </div>
                        <div class="table">
                           <a id="table_F.4.2-29" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-29. Association Rejection Reasons</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Result</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Source</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Reason/Diag</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Explanation</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - rejected-transient</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>c</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - local-limit-exceeded</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The (configurable) maximum number of simultaneous Associations has been reached. An Association request with the same parameters may succeed at a later time.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - rejected-transient</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>c</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - temporary-congestion</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>No Associations can be accepted at this time due to the real-time requirements of higher priority activities (e.g., during image acquisition no Associations will be accepted) or because insufficient resources are available (e.g., memory, processes, threads). An Association request with the same parameters may succeed at a later time.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>a</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>2 - application-context-name-not-supported</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request contained an unsupported Application Context Name. An association request with the same parameters will not succeed at a later time.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>a</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>7 - called-AE-title-not-recognized</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request contained an unrecognized Called AE Title. An Association request with the same parameters will not succeed at a later time unless configuration changes are made. This rejection reason normally occurs when the Association initiator is incorrectly configured and attempts to address the Association acceptor using the wrong AE Title.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>a</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>3 - calling-AE-title-not-recognized</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request contained an unrecognized Calling AE Title. An Association request with the same parameters will not succeed at a later time unless configuration changes are made. This rejection reason normally occurs when the Association acceptor has not been configured to recognize the AE Title of the Association initiator.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - rejected-permanent</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>b</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1 - no-reason-given</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association request could not be parsed. An Association request with the same format will not succeed at a later time.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.4.1.2" shape="rect"></a>F.4.2.3.4.1.2 Accepted Presentation Contexts</h6>
                              </div>
                           </div>
                        </div>
                        <p>The default Behavior of the STORAGE-SCP AE supports the Implicit VR Little Endian and Explicit VR Little Endian Transfer Syntaxes for all Associations. In addition, explicit JPEG (baseline lossy) compression syntax is supported for the following SOP Classes: US Image, US Multi-frame Image, US Image (retired), US Multi-frame Image (retired), VL Image, VL Multi-frame and Secondary Capture Image Storage.</p>
                        <p>The STORAGE-SCP AE can be configured to accept a subset of these Transfer Syntaxes, with the inclusion of Implicit VR Little Endian being mandatory.</p>
                        <p>If multiple Transfer Syntaxes are proposed per Presentation Context then only the most preferable Transfer Syntax is accepted. The order of Transfer Syntax preference for the STORAGE-SCP AE is configurable. The default preference order if multiple Transfer Syntaxes are proposed in a single Presentation Context is: JPEG Baseline1, Little Endian Explicit, Little Endian Implicit (if all these are proposed for a single Presentation Context). This means that if the Implicit VR Little Endian and Explicit VR Little Endian Transfer Syntaxes are proposed in a single Presentation Context then the accepted Transfer Syntax will be Explicit VR Little Endian. This order of preference is configurable.</p>
                        <p>Any of the Presentation Contexts shown in the following table are acceptable to the STORAGE-SCP AE for receiving images.</p>
                        <div class="table">
                           <a id="table_F.4.2-30" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-30. Accepted Presentation Contexts By STORAGE-SCP AE</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" colspan="6" rowspan="1">
                                          <p>Presentation Context Table</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Abstract Syntax</p>
                                       </th>
                                       <th align="center" colspan="2" rowspan="1">
                                          <p>Transfer Syntax</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Role</p>
                                       </th>
                                       <th align="center" rowspan="2" colspan="1">
                                          <p>Extended Negotiation</p>
                                       </th>
                                    </tr>
                                    <tr valign="top">
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>Name</p>
                                       </th>
                                       <th align="left" rowspan="1" colspan="1">
                                          <p>UID</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Verification</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Storage Commitment Push Model</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.20.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Storage Commitment Push Model</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.20.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                          <p>(Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                          <p>(Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                          <p>(Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian (uncompressed)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian (uncompressed)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.6.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage (Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage (Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage (Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian (uncompressed)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian (uncompressed)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.3.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG baseline lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Computer Radiography Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Computer Radiography Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>CT Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>CT Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>MR Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.4</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>MR Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.4</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>NM Image Storage (Retired)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.5</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Secondary Capture Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.7</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Implicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Secondary Capture Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.7</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit VR Little Endian</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.1</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Secondary Capture Image Storage</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.5.1.4.1.1.7</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>DICOM Explicit JPEG lossy compression</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>1.2.840.10008.1.2.4.50</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>SCP</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>None</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.4.1.3" shape="rect"></a>F.4.2.3.4.1.3 SOP Specific Conformance for Verification SOP Class</h6>
                              </div>
                           </div>
                        </div>
                        <p>The STORAGE-SCP AE provides standard conformance to the Verification SOP Class as an SCP.</p>
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.4.1.4" shape="rect"></a>F.4.2.3.4.1.4 SOP Specific Conformance for Storage SOP Classes</h6>
                              </div>
                           </div>
                        </div>
                        <p>The associated Activity with the Storage service is the storage of medical image data received over the network on a designated hard disk. The STORAGE-SCP AE will return a failure status if it is unable to store the images on to the hard disk.</p>
                        <p>The STORAGE-SCP AE does not have any dependencies on the number of Associations used to send images to it. Images belonging to more than one Study or Series can be sent over a single or multiple Associations. Images belonging to a single Study or Series can also be sent over different Associations. There is no limit on either the number of SOP Instances or the maximum amount of total SOP Instance data that can be transferred over a single Association.</p>
                        <p>The STORAGE-SCP AE is configured to retain the original DICOM data in DICOM Part 10 compliant file format. The STORAGE-SCP AE is Level 2 (Full) conformant as a Storage SCP. In addition, all Private and SOP Class Extended Elements are maintained in the DICOM format files. In addition to saving all Elements in files, a subset of the Elements are stored in the EXAMPLE-QUERY-RETRIEVE-SERVER database to support query and retrieval requests and also allow updating of Patient, Study, and Series information by user input, or demographic and Study related messages. Refer to the Annex for the list of Elements that are checked and/or processed upon receiving a Composite SOP Instance.</p>
                        <p>The Behavior for handling duplicate SOP Instances is configurable. The default Behavior is to assign a new SOP Instance UID to a received SOP Instance if it conflicts with an existing SOP Instance UID. An alternative configuration is possible that causes the original object with the conflicting SOP Instance UID to be replaced by the new SOP Instance. This Behavior is most commonly enabled if a Storage SCU re-sends entire Studies or Series if a single failure occurs when sending a group of SOP Instances.</p>
                        <p>For the purposes of image display the system supports the following photometric interpretations: MONOCHROME1, MONOCHROME2, RGB, PALETTE COLOR, YBR FULL 422, and YBR FULL.</p>
                        <p>It is expected that optimal Window Center and Width values are specified in the DICOM Image Objects if they have greater than 8 bits of image data stored per sample. If optimal Window Center and Width values are not provided, then the EXAMPLE-QUERY-RETRIEVE-SERVER is capable of estimating values using histogram analysis.</p>
                        <p>For multi-frame image SOP Instances sent using JPEG compression Transfer Syntax, sending a fully specified offset table increases performance, because the entire file does not have to be parsed to find the individual frame offsets. However, the inclusion of an offset table is not required for archiving or viewing of such SOP Instances.</p>
                        <p>Display of information conveyed using the DICOM Curve Module is not supported. Graphic overlay data sent either embedded in the unused image pixel data bits or in the separate Overlay Data Element is supported for display. Region of Interest overlays are not yet supported.</p>
                        <p>If an image SOP Instance specifies an aspect ratio that is not one-to-one then the image data will be automatically resized when displayed on the system monitor so that they are always displayed in a one-to-one aspect ratio.</p>
                        <p>The average throughput performance has been determined to be between 2 and 6 Mega Bytes per second on a 100 Megabit Ethernet network. Actual performance will depend greatly on the performance of the C-STORE SCU, the number of simultaneous active Associations, and the underlying network performance.</p>
                        <div class="table">
                           <a id="table_F.4.2-31" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-31. STORAGE-SCP AE C-STORE Response Status Return Reasons</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Reason</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Composite SOP Instance was successfully received, verified, and stored in the system database.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Refused</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Out of Resources</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A700</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that there was not enough disk space to store the image.</p>
                                          <p>Error message is output to the Service Log. The SOP Instance will not be saved.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="2" colspan="1">
                                          <p>Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Data Set does not match SOP Class</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>A900</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that the Data Set does not encode a valid instance of the SOP Class specified. This status is returned if the DICOM Object stream can be successfully parsed but does not contain values for one or more mandatory Elements of the SOP Class. The STORAGE-SCP AE does not perform a comprehensive check, as it only checks a subset of required Elements. In addition, if the SOP Class is for a type of image but the SOP Instance does not contain values necessary for its display then this status is returned.</p>
                                          <p>Error message is output to the Service Log. The system can be configured to temporarily save such Data Sets in order to aid problem diagnosis.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Cannot understand</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>C000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that the STORAGE-SCP AE cannot parse the Data Set into Elements.</p>
                                          <p>Error message is output to the Service Log. The system can be configured to temporarily save such Data Sets in order to aid problem diagnosis.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Warning</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Coercion of Data Elements</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>B000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that one or more Element values were coerced. Refer to the Attributes defined in Annex for a list of those that can be coerced. Note that return of this status is disabled by default, as some SCUs treat it as an Error code rather than a Warning.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                           <h3 class="title">Note</h3>
                           <p>If a failure condition does occur when handling an Association then all images previously received successfully over the Association are maintained in the EXAMPLE-QUERY-RETRIEVE-SERVER database. No previously successfully received images are discarded. Even if an image is successfully received but an error occurs transmitting the C-STORE Response then this final image is maintained rather than discarded. If the loss of an Association is detected then the Association is closed.</p>
                        </div>
                        <p>The Behavior of STORAGE-SCP AE during communication failure is summarized in the following table:</p>
                        <div class="table">
                           <a id="table_F.4.2-32" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-32. STORAGE-SCP AE Storage Service Communication Failure Reasons</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Exception</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Reason</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM Message Request (DIMSE level timeout). I.e. The STORAGE-SCP AE is waiting for the next C-STORE Request on an open Association but the timer expires.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted by issuing a DICOM A-ABORT.</p>
                                          <p>Error message is output to the Service Log. If some Composite SOP Instances have already been successfully received then they are maintained in the database. They are not automatically discarded because of a later failure.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM PDU or TCP/IP packet (Low-level timeout). I.e. The STORAGE-SCP AE is waiting for the next C-STORE Data Set PDU but the timer expires.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted by issuing a DICOM A-ABORT.</p>
                                          <p>Error message is output to the Service Log. If a C-STORE Data Set has not been fully received then the data already received is discarded. If some Composite SOP Instances have already been successfully received over the Association then they are maintained in the database.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Association aborted by the SCU or the network layers indicate communication loss (i.e., low-level TCP/IP socket closure)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Error message is output to the Service Log. If some Composite SOP Instances have already been successfully received then they are maintained in the database. They are not automatically discarded because of a later failure.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                     <div class="section">
                        <div class="titlepage">
                           <div>
                              <div>
                                 <h6 class="title">
                                    <a id="sect_F.4.2.3.4.1.5" shape="rect"></a>F.4.2.3.4.1.5 SOP Specific Conformance for Storage Commitment SOP Class</h6>
                              </div>
                           </div>
                        </div>
                        <p>The associated Activity with the Storage Commitment Push Model service is the communication by the STORAGE-SCP AE to peer AEs that it has committed to permanently store Composite SOP Instances that have been sent to it. It thus allows peer AEs to determine whether the EXAMPLE-QUERY-RETRIEVE-SERVER has taken responsibility for the archiving of specific SOP Instances so that they can be flushed from the peer AE system.</p>
                        <p>The STORAGE-SCP AE takes the list of Composite SOP Instance UIDs specified in a Storage Commitment Push Model N-ACTION Request and checks if they are present in the EXAMPLE-QUERY-RETRIEVE-SERVER database. As long as the Composite SOP Instance UIDs are present in the database, the STORAGE-SCP AE will consider those Composite SOP Instance UIDs to be successfully archived. The STORAGE-SCP AE does not require the Composite SOP Instances to actually be successfully written to archive media in order to commit to responsibility for maintaining these SOP Instances.</p>
                        <p>Once the STORAGE-SCP AE has checked for the existence of the specified Composite SOP Instances, it will then attempt to send the Notification request (N-EVENT-REPORT-RQ). The default behavior is to attempt to send this Notification over the same Association that was used by the peer AE to send the original N-ACTION Request. If the Association has already been released or Message transfer fails for some reason then the STORAGE-SCP AE will attempt to send the N-EVENT-REPORT-RQ over a new Association. The STORAGE-SCP AE will request a new Association with the peer AE that made the original N-ACTION Request. The STORAGE-SCP AE can be configured to always open a new Association in order to send the Notification request.</p>
                        <p>The STORAGE-SCP AE will not cache Storage Commitment Push Model N-ACTION Requests that specify Composite SOP Instances that have not yet been transferred to the EXAMPLE-QUERY-RETRIEVE-SERVER. If a peer AE sends a Storage Commitment Push Model N-ACTION Request before the specified Composite SOP Instances are later sent over the same Association, the STORAGE-SCP AE will not commit to responsibility for such SOP Instances.</p>
                        <p>The STORAGE-SCP AE does not support the optional Storage Media File-Set ID &amp; UID attributes in the N-ACTION.</p>
                        <p>The EXAMPLE-QUERY-RETRIEVE-SERVER never automatically deletes Composite SOP Instances from the archive. The absolute persistence of SOP Instances and the maximum archiving capacity for such SOP Instances is dependent on the archiving media and capacity used by the EXAMPLE-QUERY-RETRIEVE-SERVER and is dependent on the actual specifications of the purchased system. It is necessary to check the actual system specifications to determine these characteristics.</p>
                        <p>The STORAGE-SCP AE will support Storage Commitment Push Model requests for SOP Instances of any of the Storage SOP Classes that are also supported by the STORAGE-SCP AE:</p>
                        <div class="table">
                           <a id="table_F.4.2-33" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-33. Supported Referenced SOP Classes in Storage Commitment Push Model N-ACTION Requests</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Supported Referenced SOP Classes</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage (Retired)</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Image Storage</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage (Retired)</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>US Multi-frame Storage</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Computed Radiography Image Storage</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>CT Image Storage</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>MR Image Storage</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Secondary Capture Image Storage</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>The STORAGE-SCP AE will return the following Status Code values in N-ACTION Responses:</p>
                        <div class="table">
                           <a id="table_F.4.2-34" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-34. STORAGE-SCP AE Storage Commitment Push Model N-ACTION Response Status Return Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The SCP has successfully received the Storage Commitment Push Model N-ACTION Request and can process the commitment request for the indicated SOP Instances.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Processing Failure</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0110</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that the Storage Commitment Push Model N-ACTION Request cannot be parsed or fully processed due to a database or system failure.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Missing Attribute</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0120</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that the Storage Commitment Push Model N-ACTION Request cannot be processed because a required attribute is missing from the N-ACTION Request Data Set.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Missing Attribute Value</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0121</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Indicates that the Storage Commitment Push Model N-ACTION Request cannot be processed because a Type 1 attribute in the N-ACTION Request Data Set does not specify a value.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>The STORAGE-SCP AE will exhibit the following Behavior according to the Status Code value returned in an N-EVENT-REPORT Response from a destination Storage Commitment Push Model SCU:</p>
                        <div class="table">
                           <a id="table_F.4.2-35" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-35. STORAGE-SCP AE N-EVENT-REPORT Response Status Handling Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Service Status</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Further Meaning</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Error Code</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Success</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0000</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The SCU has successfully received the Storage Commitment Push Model N-EVENT-REPORT Request.</p>
                                          <p>Success indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Warning</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Attribute List Error</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>0107</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Transmission of Storage Commitment Push Model N-EVENT-REPORT Request is considered successful.</p>
                                          <p>Warning indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>*</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>*</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Any other status code.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>This is treated as a permanent Failure.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                        <p>All Status Codes indicating an error or refusal are treated as a permanent failure. The STORAGE-SCP AE can be configured to automatically reattempt the sending of Storage Commitment Push Model N-EVENT-REPORT Requests if an error Status Code is returned or a communication failure occurs. The maximum number of times to attempt sending as well as the time to wait between attempts is configurable.</p>
                        <div class="table">
                           <a id="table_F.4.2-36" shape="rect"></a>
                           <p class="title">
                              <strong>Table F.4.2-36. STORAGE-SCP AE Storage Commitment Push Model Communication Failure Behavior</strong>
                           </p>
                           <div class="table-contents">
                              <table frame="box" rules="all">
                                 <thead>
                                    <tr valign="top">
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Exception</p>
                                       </th>
                                       <th align="center" rowspan="1" colspan="1">
                                          <p>Behavior</p>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM Message Request (DIMSE level timeout). I.e. The STORAGE-SCP AE is waiting for the next N-ACTION Request on an open Association but the timer expires.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted by issuing a DICOM A-ABORT.</p>
                                          <p>If some Composite SOP Instances have been successfully received over the same Association via the Storage Service then they are maintained in the database. They are not automatically discarded because of a later Storage Commitment messaging failure.</p>
                                          <p>Any previously received Storage Commitment Push Model N-ACTION Requests will still be fully processed.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM Message Response (DIMSE level timeout). I.e. The STORAGE-SCP AE is waiting for the next N-EVENT-REPORT Response on an open Association but the timer expires.</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted by issuing a DICOM A-ABORT.</p>
                                          <p>If some Composite SOP Instances have been successfully received over the same Association via the Storage Service then they are maintained in the database. They are not automatically discarded because of a later Storage Commitment messaging failure.</p>
                                          <p>Any previously received Storage Commitment Push Model N-ACTION Requests will still be fully processed.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Timeout expiry for an expected DICOM PDU or TCP/IP packet (Low-level timeout).</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The Association is aborted by issuing a DICOM A-ABORT.</p>
                                          <p>If some Composite SOP Instances have been successfully received over the same Association via the Storage Service then they are maintained in the database. They are not automatically discarded because of a later Storage Commitment messaging failure.</p>
                                          <p>Any previously received Storage Commitment Push Model N-ACTION Requests will still be fully processed.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                    <tr valign="top">
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>Association A-ABORTed by the SCU or the network layers indicate communication loss (i.e., low-level TCP/IP socket closure)</p>
                                       </td>
                                       <td align="left" rowspan="1" colspan="1">
                                          <p>The TCP/IP socket is closed.</p>
                                          <p>If some Composite SOP Instances have been successfully received over the same Association via the Storage Service then they are maintained in the database. They are not automatically discarded because of a later Storage Commitment messaging failure.</p>
                                          <p>Any previously received Storage Commitment Push Model N-ACTION Requests will still be fully processed.</p>
                                          <p>Error indication message is output to the Service Logs.</p>
                                          <p>No message is posted to the User Interface.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <br class="table-break" clear="none" />
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_F.4.3" shape="rect"></a>F.4.3 Network Interfaces</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.3.1" shape="rect"></a>F.4.3.1 Physical Network Interface</h4>
                     </div>
                  </div>
               </div>
               <p>The EXAMPLE-QUERY-RETRIEVE-SERVER supports a single network interface. One of the following physical network interfaces will be available depending on installed hardware options:</p>
               <div class="table">
                  <a id="table_F.4.3-1" shape="rect"></a>
                  <p class="title">
                     <strong>Table F.4.3-1. Supported Physical Network Interfaces</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <tbody>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Ethernet 100baseT</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Ethernet 10baseT</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.3.2" shape="rect"></a>F.4.3.2 Additional Protocols</h4>
                     </div>
                  </div>
               </div>
               <p>EXAMPLE-QUERY-RETRIEVE-SERVER conforms to the System Management Profiles listed in <a class="xref" href="sect_F.4.html#table_F.4.3-2" title="Table F.4.3-2. Supported System Management Profiles" shape="rect">Table F.4.3-2</a>. All requested transactions for the listed profiles and actors are supported. It does not support any optional transactions.</p>
               <div class="table">
                  <a id="table_F.4.3-2" shape="rect"></a>
                  <p class="title">
                     <strong>Table F.4.3-2. Supported System Management Profiles</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Profile Name</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Actor</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Protocols Used</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Optional Transactions</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Security Support</p>
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="left" rowspan="2" colspan="1">
                                 <p>Network Address Management</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>DHCP Client</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>DHCP</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>N/A</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1"></td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>DNS Client</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>DNS</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>N/A</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1"></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.3.2.1" shape="rect"></a>F.4.3.2.1 DHCP</h5>
                        </div>
                     </div>
                  </div>
                  <p>DHCP can be used to obtain TCP/IP network configuration information. The network parameters obtainable via DHCP are shown in <a class="xref" href="sect_F.4.html#table_F.4.3-3" title="Table F.4.3-3. Supported DHCP Parameters" shape="rect">Table F.4.3-3</a>. The Default Value column of the table shows the default used if the DHCP server does not provide a value. Values for network parameters set in the Service/Installation tool take precedence over values obtained from the DHCP server. Support for DHCP can be configured via the Service/Installation Tool. The Service/Installation tool can be used to configure the machine name. If DHCP is not in use, TCP/IP network configuration information can be manually configured via the Service/Installation Tool.</p>
                  <div class="table">
                     <a id="table_F.4.3-3" shape="rect"></a>
                     <p class="title">
                        <strong>Table F.4.3-3. Supported DHCP Parameters</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="left" rowspan="1" colspan="1">
                                    <p>DHCP Parameter</p>
                                 </th>
                                 <th align="left" rowspan="1" colspan="1">
                                    <p>Default Value</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>IP Address</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>None</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Hostname</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Requested machine name</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>List of NTP servers</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Empty list</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>List of DNS servers</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Empty list</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Routers</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Empty list</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Static routes</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>None</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Domain name</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>None</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Subnet mask</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Derived from IP Address (see service manual)</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Broadcast address</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Derived from IP Address (see service manual)</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Default router</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>None</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Time offset</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Site configurable (from Time zone)</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>MTU</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Network Hardware Dependent</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Auto-IP permission</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>No permission</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>If the DHCP server refuses to renew a lease on the assigned IP address all active DICOM Associations will be aborted.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.3.2.2" shape="rect"></a>F.4.3.2.2 DNS</h5>
                        </div>
                     </div>
                  </div>
                  <p>DNS can be used for address resolution. If DHCP is not in use or the DHCP server does not return any DNS server addresses, the identity of a DNS server can be configured via the Service/Installation Tool. If a DNS server is not in use, local mapping between hostname and IP address can be manually configured via the Service/Installation Tool.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.3.3" shape="rect"></a>F.4.3.3 IPv4 and IPv6 Support</h4>
                     </div>
                  </div>
               </div>
               <p>This product supports both IPv4 and IPv6. It does not utilize any of the optional configuration identification or security features of IPv6.</p>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_F.4.4" shape="rect"></a>F.4.4 Configuration</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.4.1" shape="rect"></a>F.4.4.1 AE Title/Presentation Address Mapping</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.4.1.1" shape="rect"></a>F.4.4.1.1 Local AE Titles</h5>
                        </div>
                     </div>
                  </div>
                  <p>The mapping from AE Title to TCP/IP addresses and ports is configurable and set at the time of installation by Installation Personnel.</p>
                  <div class="table">
                     <a id="table_F.4.4-1" shape="rect"></a>
                     <p class="title">
                        <strong>Table F.4.4-1. Default Application Entity Characteristics</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>Application Entity</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>Role</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>Default AE Title</p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>Default TCP/IP Port</p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>STORAGE-SCU</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>SCU</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>EX_STORE_SCU</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>None</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>STORAGE-SCP</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>SCP</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>EX_STORE_SCP</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>4000</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>QUERY-RETRIEVE-SCP</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>SCP</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>EX_QUERY_SCP</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>5000</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>The STORAGE-SCU and QUERY-RETRIEVE-SCP Application Entities can be configured to have the same AE Title. The STORAGE-SCP Application Entity must not have the same AE Title as the other two.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_F.4.4.1.2" shape="rect"></a>F.4.4.1.2 Remote AE Title/Presentation Address Mapping</h5>
                        </div>
                     </div>
                  </div>
                  <p>The mapping of external AE Titles to TCP/IP addresses and ports is configurable and set at the time of installation by Installation Personnel. This mapping is necessary for resolving the IP address and port of C-MOVE Destination Application Entities and must be correctly configured for the QUERY-RETRIEVE-SCP AE to correctly function as a C-MOVE SCP.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_F.4.4.2" shape="rect"></a>F.4.4.2 Parameters</h4>
                     </div>
                  </div>
               </div>
               <div class="table">
                  <a id="table_F.4.4-2" shape="rect"></a>
                  <p class="title">
                     <strong>Table F.4.4-2. Configuration Parameters</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Parameter</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Configurable</p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>Default Value</p>
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>General Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum PDU size I can receive</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>128kbytes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum PDU size I can send</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>128kbytes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for response to TCP/IP connect() request. (Low-level timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>10 s</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for A-ASSOCIATE RQ PDU on open TCP/IP connection. (ARTIM timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>30 s</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for acceptance or rejection response to an Association Open Request. (Application Level timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>30s</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out waiting for acceptance of a TCP/IP message over the network. (Low-level timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>30 s</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time-out for waiting for data between TCP/IP packets. (Low-level timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>30 s</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>The Windows NT TCP/IP socket buffer size is set to 1,342,177 bytes in order to improve image data throughput performance.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>No</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>1,342,177 bytes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>STORAGE-SCU AE Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum number of simultaneous Associations.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>10</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>STORAGE-SCU AE time-out waiting for a Response to a C-STORE-RQ. (DIMSE timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>5 minutes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>STORAGE-SCU AE number of times a failed send job to a C-MOVE Destination is automatically retried.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>No</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>STORAGE-SCP AE Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum PDU Size</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>16384</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum number of simultaneous Associations</p>
                                 <p>(Can be configured to be a maximum total number or a maximum per external SCU AE)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>10</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>STORAGE-SCP AE time-out waiting on an open Association for the next Request message (C-STORE-RQ, Association Close Request. etc.) (DIMSE timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>15 minutes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>STORAGE-SCP AE maximum number of simultaneous Associations</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                                 <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                    <h3 class="title">Note</h3>
                                    <p>Can be configured with a maximum per external AE</p>
                                 </div>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>10</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Permanent archival of SOP Instances sent by a peer AE to the STORAGE-SCP AE in response to a retrieval request from QUERY-RETRIEVE AE.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>FALSE</p>
                                 <p>(Such received SOP Instances are not archived.)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Permanent archival of SOP Instances sent unsolicited by a peer AE to the STORAGE-SCP AE. I.e. Not in response to a retrieval request from QUERY-RETRIEVE AE.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>TRUE</p>
                                 <p>(Such received SOP Instances are archived.)</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Always open a new Association to send a Storage Commitment Push Model Notification request (N-EVENT-REPORT-RQ).</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>FALSE</p>
                                 <p>(Default is to try and send Notifications over original Association opened by peer AE).</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum number of times to attempt sending a Storage Commitment Push Model N-EVENT-REPORT Request when an error status is returned or communication failure occurs.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>5</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Time to wait between attempts to send a Storage Commitment Push Model N-EVENT-REPORT Request when an error status is returned or communication failure occurs.</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>5 minutes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="center" colspan="3" rowspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>QUERY-RETRIEVE-SCP AE Parameters</strong>
                                    </span>
                                 </p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum PDU Size</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>16384</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Maximum number of simultaneous Associations</p>
                                 <p>(Can be configured to be a maximum total number or a maximum per external SCU AE)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>10</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>QUERY-RETRIEVE-SCP AE time-out waiting on an open Association for the next message (C-FIND-RQ, C-MOVE-RQ, Association Close Request. etc.) (DIMSE timeout)</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>3 minutes</p>
                              </td>
                           </tr>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>QUERY-RETRIEVE-SCP AE maximum number of simultaneous Associations</p>
                              </td>
                              <td align="center" rowspan="1" colspan="1">
                                 <p>Yes</p>
                                 <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                    <h3 class="title">Note</h3>
                                    <p>Can be configured with a maximum per external AE</p>
                                 </div>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>10</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_F.3.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_F.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_F.5.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">F.3 Introduction </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.2.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> F.5 Media Interchange</td>
            </tr>
         </table>
      </div>
   </body>
</html>
