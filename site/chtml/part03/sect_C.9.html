<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>C.9 Overlays</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.3.html" title="PS3.3" />
      <link rel="up" href="chapter_C.html" title="C Information Module Definitions (Normative)" />
      <link rel="prev" href="sect_C.8.html" title="C.8 Modality Specific Modules" />
      <link rel="next" href="sect_C.10.html" title="C.10 Curve, Graphic and Waveform" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">C.9 Overlays</th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.8.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">C Information Module Definitions (Normative)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.10.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_C.9" shape="rect"></a>C.9 Overlays</h2>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.9.1" shape="rect"></a>C.9.1 Overlay Identification Module</h3>
                  </div>
               </div>
            </div>
            <p>Retired. See <a class="link" href="ftp://medical.nema.org/MEDICAL/Dicom/2004/printed/04_03pu3.pdf" target="_top" shape="rect">PS3.3-2004</a>.</p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.9.2" shape="rect"></a>C.9.2 Overlay Plane Module</h3>
                  </div>
               </div>
            </div>
            <p>
               <a class="xref" href="sect_C.9.html#table_C.9-2" title="Table C.9-2. Overlay Plane Module Attributes" shape="rect">Table C.9-2</a> contains Attributes that describe characteristics of an Overlay Plane.</p>
            <p>An Overlay Plane describes graphics or bit-mapped text that is associated with an Image. It may also describe a Region of Interest in an Image.</p>
            <p>Each Overlay Plane is one bit deep. Sixteen separate Overlay Planes may be associated with an Image.</p>
            <p>Overlay data is stored in Overlay Data (60xx,3000). See the Section Repeating Groups in <a href="../part05/PS3.5.html" class="olink" shape="rect">PS3.5</a> for a description of permitted values of 60xx.</p>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
               <h3 class="title">Note</h3>
               <p>Overlay data stored in unused bit planes of Pixel Data (7FE0,0010) with Samples Per Pixel (0028,0002) of 1 was previously described in DICOM. This usage has now been retired. See <a class="link" href="ftp://medical.nema.org/MEDICAL/Dicom/2004/printed/04_03pu3.pdf" target="_top" shape="rect">PS3.3-2004</a> and <a class="link" href="ftp://medical.nema.org/MEDICAL/Dicom/2004/printed/04_05pu.pdf" target="_top" shape="rect">PS3.5-2004</a>.</p>
            </div>
            <p>Attributes describing display of grayscale and color overlays were defined in a previous version of the DICOM Standard. These have now been retired. How an Overlay Plane is rendered is undefined; specifically there is no mechanism to specify with what color or intensity an Overlay Plane is to be displayed, except when rendered under the control of a Softcopy Presentation State SOP Instance.</p>
            <div class="table">
               <a id="table_C.9-2" shape="rect"></a>
               <p class="title">
                  <strong>Table C.9-2. Overlay Plane Module Attributes</strong>
               </p>
               <div class="table-contents">
                  <table frame="box" rules="all">
                     <thead>
                        <tr valign="top">
                           <th align="center" rowspan="1" colspan="1">
                              <p>Attribute Name</p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>Tag</p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>Type</p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>Attribute Description</p>
                           </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Rows</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0010)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Number of Rows in Overlay.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Columns</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0011)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Number of Columns in Overlay.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Type</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0040)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Indicates whether this overlay represents a region of interest or other graphics.</p>
                              <div class="variablelist">
                                 <p class="title">
                                    <strong>Enumerated Values:</strong>
                                 </p>
                                 <dl class="variablelist compact">
                                    <dt>
                                       <span class="term">G</span>
                                    </dt>
                                    <dd>
                                       <p>Graphics</p>
                                    </dd>
                                    <dt>
                                       <span class="term">R</span>
                                    </dt>
                                    <dd>
                                       <p>ROI</p>
                                    </dd>
                                 </dl>
                              </div>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Origin</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0050)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Location of first overlay point with respect to pixels in the image, given as row\column.</p>
                              <p>The upper left pixel of the image has the coordinate 1\1.</p>
                              <p>Column values greater than 1 indicate the overlay plane origin is to the right of the image origin. Row values greater than 1 indicate the overlay plane origin is below the image origin. Values less than 1 indicate the overlay plane origin is above or to the left of the image origin.</p>
                              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                 <h3 class="title">Note</h3>
                                 <p>Values of 0\0 indicate that the overlay pixels start 1 row above and one column to the left of the image pixels.</p>
                              </div>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Bits Allocated</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0100)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Number of Bits Allocated in the Overlay.</p>
                              <p>The value of this Attribute shall be 1.</p>
                              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                 <h3 class="title">Note</h3>
                                 <p>Formerly the standard described embedding the overlay data in the Image Pixel Data (7FE0,0010), in which case the value of this Attribute was required to be the same as Bits Allocated (0028,0100). This usage has been retired. See <a class="link" href="ftp://medical.nema.org/MEDICAL/Dicom/2004/printed/04_03pu3.pdf" target="_top" shape="rect">PS3.3-2004</a>.</p>
                              </div>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Bit Position</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0102)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>The value of this Attribute shall be 0.</p>
                              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                                 <h3 class="title">Note</h3>
                                 <p>Formerly the standard described embedding the overlay data in the Image Pixel Data (7FE0,0010), in which case the value of this Attribute specified the bit in which the overlay was stored. This usage has been retired. See <a class="link" href="ftp://medical.nema.org/MEDICAL/Dicom/2004/printed/04_03pu3.pdf" target="_top" shape="rect">PS3.3-2004</a>.</p>
                              </div>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Data</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,3000)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay pixel data.</p>
                              <p>The order of pixels sent for each overlay is left to right, top to bottom, i.e., the upper left pixel is sent first followed by the remainder of the first row, followed by the first pixel of the 2nd row, then the remainder of the 2nd row and so on.</p>
                              <p>Overlay data shall be contained in this Attribute.</p>
                              <p>See <a class="xref" href="sect_C.9.html#sect_C.9.2.1.1" title="C.9.2.1.1 Overlay Type" shape="rect">Section C.9.2.1.1</a> for further explanation.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Description</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0022)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>3</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>User-defined comments about the overlay.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Subtype</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0045)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>3</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Defined Term that identifies the intended purpose of the Overlay Type. See <a class="xref" href="sect_C.9.html#sect_C.9.2.1.3" title="C.9.2.1.3 Overlay Subtype" shape="rect">Section C.9.2.1.3</a> for further explanation.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Overlay Label</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,1500)</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>3</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>A user defined text string that may be used to label or name this overlay.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>ROI Area</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,1301)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>3</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Number of pixels in ROI area.</p>
                              <p>See <a class="xref" href="sect_C.9.html#sect_C.9.2.1.2" title="C.9.2.1.2 ROI Area, ROI Mean and ROI Standard Deviation" shape="rect">Section C.9.2.1.2</a> for further explanation.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>ROI Mean</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,1302)</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>3</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>ROI Mean.</p>
                              <p>See <a class="xref" href="sect_C.9.html#sect_C.9.2.1.2" title="C.9.2.1.2 ROI Area, ROI Mean and ROI Standard Deviation" shape="rect">Section C.9.2.1.2</a> for further explanation.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>ROI Standard Deviation</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,1303)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>3</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>ROI standard deviation.</p>
                              <p>See <a class="xref" href="sect_C.9.html#sect_C.9.2.1.2" title="C.9.2.1.2 ROI Area, ROI Mean and ROI Standard Deviation" shape="rect">Section C.9.2.1.2</a> for further explanation.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <br class="table-break" clear="none" />
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.9.2.1" shape="rect"></a>C.9.2.1 Overlay Attribute Descriptions</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.9.2.1.1" shape="rect"></a>C.9.2.1.1 Overlay Type</h5>
                        </div>
                     </div>
                  </div>
                  <p>There are two specific types of overlays. The type is specified in this Attribute.</p>
                  <p>A Region of Interest (ROI) is a specific use of an Overlay. The overlay bits corresponding to all the pixels included in the ROI shall be set to 1. All other bits are set to 0. This is used to specify an area of the image of particular interest.</p>
                  <p>A Graphics overlay may express reference marks, graphic annotation, or bit mapped text, etc. A Graphics overlay may be used to mark the boundary of a ROI. If this is the case and the ROI statistical parameters are used, they will only refer to the pixels under the boundaries, not those in the included regions.</p>
                  <p>The overlay bits corresponding to all the pixels included in the Graphics shall be set to 1. All other bits are set to 0.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.9.2.1.2" shape="rect"></a>C.9.2.1.2 ROI Area, ROI Mean and ROI Standard Deviation</h5>
                        </div>
                     </div>
                  </div>
                  <p>These Attributes contain the statistical parameters of the ROI. The values of these parameters are for the overlay pixel values set to 1.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.9.2.1.3" shape="rect"></a>C.9.2.1.3 Overlay Subtype</h5>
                        </div>
                     </div>
                  </div>
                  <div class="variablelist">
                     <p class="title">
                        <strong>Defined Terms:</strong>
                     </p>
                     <dl class="variablelist compact">
                        <dt>
                           <span class="term">USER</span>
                        </dt>
                        <dd>
                           <p>User created graphic annotation (e.g., operator)</p>
                        </dd>
                        <dt>
                           <span class="term">AUTOMATED</span>
                        </dt>
                        <dd>
                           <p>Machine or algorithm generated graphic annotation, such as output of a Computer Assisted Diagnosis algorithm</p>
                        </dd>
                     </dl>
                  </div>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>Additional or alternative Defined Terms may be specified in modality specific Modules, such as in the Ultrasound Image Module, <a class="xref" href="sect_C.8.html#sect_C.8.5.6.1.11" title="C.8.5.6.1.11 Overlay Subtype" shape="rect">Section C.8.5.6.1.11</a>.</p>
                  </div>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.9.3" shape="rect"></a>C.9.3 Multi-frame Overlay Module</h3>
                  </div>
               </div>
            </div>
            <p>
               <a class="xref" href="sect_C.9.html#table_C.9-3" title="Table C.9-3. Multi-frame Overlay Module Attributes" shape="rect">Table C.9-3</a> specifies the Attributes of a Multi-frame overlay.</p>
            <div class="table">
               <a id="table_C.9-3" shape="rect"></a>
               <p class="title">
                  <strong>Table C.9-3. Multi-frame Overlay Module Attributes</strong>
               </p>
               <div class="table-contents">
                  <table frame="box" rules="all">
                     <thead>
                        <tr valign="top">
                           <th align="center" rowspan="1" colspan="1">
                              <p>Attribute Name</p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>Tag</p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>Type</p>
                           </th>
                           <th align="center" rowspan="1" colspan="1">
                              <p>Attribute Description</p>
                           </th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Number of Frames in Overlay</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0015)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>1</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Number of Frames in Overlay. Required if Overlay data contains multiple frames.</p>
                           </td>
                        </tr>
                        <tr valign="top">
                           <td align="left" rowspan="1" colspan="1">
                              <p>Image Frame Origin</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>(60xx,0051)</p>
                           </td>
                           <td align="center" rowspan="1" colspan="1">
                              <p>3</p>
                           </td>
                           <td align="left" rowspan="1" colspan="1">
                              <p>Frame number of Multi-frame Image to which this overlay applies; frames are numbered from 1.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <br class="table-break" clear="none" />
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_C.9.3.1" shape="rect"></a>C.9.3.1 Multi-frame Overlay Attribute Descriptions</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_C.9.3.1.1" shape="rect"></a>C.9.3.1.1 Number of Frames in Overlay</h5>
                        </div>
                     </div>
                  </div>
                  <p>A Multi-frame Overlay is defined as an Overlay whose overlay data consists of a sequential set of individual Overlay frames. A Multi-frame Overlay is transmitted as a single contiguous stream of overlay data. Frame delimiters are not contained within the data stream.</p>
                  <p>Each individual frame shall be defined (and thus can be identified) by the Attributes in the Overlay Plane Module (see <a class="xref" href="sect_C.9.html#sect_C.9.2" title="C.9.2 Overlay Plane Module" shape="rect">Section C.9.2</a>).</p>
                  <p>The total number of frames contained within a Multi-frame Overlay is conveyed in the Number of Frames in Overlay (60xx,0015).</p>
                  <p>The frames within a Multi-frame Overlay shall be conveyed as a logical sequence. If Multi-frame Overlays are related to a Multi-frame Image, the order of the Overlay Frames are one to one with the order of the Image frames. Otherwise, no attribute is used to indicate the sequencing of the Overlay Frames. If Image Frame Origin (60xx,0051) is present, the Overlay frames are applied one to one to the Image frames, beginning at the indicated frame number. Otherwise, no attribute is used to indicated the sequencing of the Overlay Frames.</p>
                  <p>The Number of Frames in Overlay (60xx,0015) plus the Image Frame Origin (60xx,0051) minus 1 shall be less than or equal to the total number of frames in the Multi-frame Image.</p>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.9.4" shape="rect"></a>C.9.4 Bi-plane Overlay Module (Retired)</h3>
                  </div>
               </div>
            </div>
            <p></p>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_C.9.5" shape="rect"></a>C.9.5 Basic Print Image Overlay Box Module (Retired)</h3>
                  </div>
               </div>
            </div>
            <p>Retired. See <a class="link" href="ftp://medical.nema.org/MEDICAL/Dicom/2004/printed/04_03pu3.pdf" target="_top" shape="rect">PS3.3-2004</a>.</p>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_C.8.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_C.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="sect_C.10.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">C.8 Modality Specific Modules </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.3.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> C.10 Curve, Graphic and Waveform</td>
            </tr>
         </table>
      </div>
   </body>
</html>
