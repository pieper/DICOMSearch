<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>V.6 SOP Class Definitions</title>
      <link rel="stylesheet" type="text/css" href="dicom.css" />
      <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
      <link rel="home" href="PS3.4.html" title="PS3.4" />
      <link rel="up" href="chapter_V.html" title="V Substance Administration Query Service Class (Normative)" />
      <link rel="prev" href="sect_V.5.html" title="V.5 Association Negotiation" />
      <link rel="next" href="chapter_W.html" title="W Color Palette Storage Service Class" />
      <style type="text/css"><![CDATA[
	p { font-size: 15px; }
      ]]></style>
   </head>
   <body>
      <div class="navheader">
         <table width="100%" summary="Navigation header">
            <tr>
               <th colspan="3" align="center" rowspan="1">V.6 SOP Class Definitions</th>
            </tr>
            <tr>
               <td width="20%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_V.5.html" shape="rect">Prev</a> </td>
               <th width="60%" align="center" rowspan="1" colspan="1">V Substance Administration Query Service Class (Normative)</th>
               <td width="20%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="chapter_W.html" shape="rect">Next</a>
               </td>
            </tr>
         </table>
         <hr />
      </div>
      <div class="section">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title" style="clear: both">
                     <a id="sect_V.6" shape="rect"></a>V.6 SOP Class Definitions</h2>
               </div>
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_V.6.1" shape="rect"></a>V.6.1 Product Characteristics Query SOP Class</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.1.1" shape="rect"></a>V.6.1.1 Product Characteristics Query SOP Class Overview</h4>
                     </div>
                  </div>
               </div>
               <p>The Product Characteristics Query SOP class defines an application-level class of service that facilitates the communication of detailed information about drugs, contrast agents, or devices identified by a bar code or similar identifier. The detailed information is intended to be used both for automated processing and for presentation to a system operator.</p>
               <p>The Product Characteristics Query SOP class supports the following example use cases:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>Obtain the active ingredient, concentration, or other parameters of a contrast agent for inclusion in the image SOP Instances created during use of the agent, or for setting up image acquisition parameters (e.g., ultrasound transducer frequency)</p>
                     </li>
                     <li class="listitem">
                        <p>Obtain the size parameters of a device (e.g., a catheter) for use in calibrating images that show that device</p>
                     </li>
                     <li class="listitem">
                        <p>Obtain a network reference for an online copy of the "product label" (regulated prescribing and use data) for a drug, contrast agent, or device.</p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.1.2" shape="rect"></a>V.6.1.2 Product Characteristics Query Information Model</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.1.2.1" shape="rect"></a>V.6.1.2.1 E/R Model</h5>
                        </div>
                     </div>
                  </div>
                  <p>The Product Characteristics Query Information Model is represented by the Entity Relationship diagram shown in figure <a class="xref" href="sect_V.6.html" title="V.6 SOP Class Definitions" shape="rect">Section V.6</a> -1.</p>
                  <p>
              </p>
                  <div class="figure">
                     <a id="figure_V.6-1" shape="rect"></a>
                     <div class="figure-contents">
                        <div class="mediaobject">
                           <img src="figures/PS3.4_V.6-1.svg" alt="Product Characteristics E-R Diagram" />
                        </div>
                     </div>
                     <p class="title">
                        <strong>Figure V.6-1. Product Characteristics E-R Diagram</strong>
                     </p>
                  </div>
                  <p>
                     <br class="figure-break" clear="none" />
                  </p>
                  <p>There is only one Information Entity in the model, which is the Product. The Attributes of a Product can be found in the following Module in <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a>.</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>Product Characteristics Module</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.1.2.2" shape="rect"></a>V.6.1.2.2 Product Characteristics Query Attributes</h5>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a class="xref" href="sect_V.6.html#table_V.6-1" title="Table V.6-1. Attributes for the Product Characteristics Query Information Model" shape="rect">Table V.6-1</a> defines the Attributes of the Product Characteristics Query Information Model:</p>
                  <div class="table">
                     <a id="table_V.6-1" shape="rect"></a>
                     <p class="title">
                        <strong>Table V.6-1. Attributes for the Product Characteristics Query Information Model</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Description / Module</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Tag</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Matching Key Type</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Return Key Type</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Remark/Matching Type</strong>
                                       </span>
                                    </p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Product Package Identifier</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0001)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>R</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Shall be retrieved with Single Value Matching only.</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Product Type Code Sequence</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0007)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Code Value</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0100)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Coding Scheme Designator</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0102)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Code Meaning</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0104)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Product Name</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0008)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Product Expiration DateTime</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,000B)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Product Parameter Sequence</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0013)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Value Type</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0040,A040)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Concept Name Code Sequence</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0040,A043)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;&gt;Code Value</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0100)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;&gt;Coding Scheme Designator</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0102)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;&gt;Code Meaning</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0104)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <span class="italic">&gt;All other Attributes of Product Parameter Sequence</span>
                                    </p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1C</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Conditional on value of Value Type (0040,A040); See <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a> Content Item Macro.</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <span class="italic">All other Attributes of Product</span>
                                       <span class="italic">Characteristics Module</span>
                                    </p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>3</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>The Product Package Identifier (0044,0001) might not be globally unique and might conflict with other identifiers used within the scope of the institution.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>The package identifiers are typically unique within the scope of the substance administration management systems. This is a warning that they are not UIDs.</p>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.1.3" shape="rect"></a>V.6.1.3 Conformance Requirements</h4>
                     </div>
                  </div>
               </div>
               <p>An implementation may conform to the Product Characteristics Query SOP Class as an SCU or an SCP. The Conformance Statement shall be in the format defined in <a href="../part02/PS3.2.html" class="olink" shape="rect">PS3.2</a>.</p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.1.3.1" shape="rect"></a>V.6.1.3.1 SCU Conformance</h5>
                        </div>
                     </div>
                  </div>
                  <p>An implementation that conforms to the Product Characteristics Query SOP Class shall support queries against the Information Model described in <a class="xref" href="sect_V.6.html#sect_V.6.1.2" title="V.6.1.2 Product Characteristics Query Information Model" shape="rect">Section V.6.1.2</a> using the baseline C-FIND SCU Behavior described in <a class="xref" href="sect_V.4.html#sect_V.4.1.2" title="V.4.1.2 C-FIND SCU Behavior" shape="rect">Section V.4.1.2</a>.</p>
                  <p>An implementation that conforms to the Product Characteristics Query SOP Class as an SCU shall state in its Conformance Statement the Return Key Attributes it requests, and how those Attributes are used in the application.</p>
                  <p>An implementation that conforms to the Product Characteristics Query SOP Class as an SCU shall state in its Conformance Statement how it makes use of Specific Character Set (0008,0005) when encoding queries and interpreting responses.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.1.3.2" shape="rect"></a>V.6.1.3.2 SCP Conformance</h5>
                        </div>
                     </div>
                  </div>
                  <p>An implementation that conforms to the Product Characteristics Query SOP Class shall support queries against the Product Characteristics Query Information Model described in <a class="xref" href="sect_V.6.html#sect_V.6.1.2" title="V.6.1.2 Product Characteristics Query Information Model" shape="rect">Section V.6.1.2</a> using the C-FIND SCP Behavior described in <a class="xref" href="sect_V.4.html#sect_V.4.1.3" title="V.4.1.3 C-FIND SCP Behavior" shape="rect">Section V.4.1.3</a>.</p>
                  <p>An implementation that conforms to the Product Characteristics Query SOP Class as an SCP shall state in its Conformance Statement the Return Key Attributes that it supports.</p>
                  <p>An implementation that conforms to the Product Characteristics Query SOP Class as an SCP shall state in its Conformance Statement how it makes use of Specific Character Set (0008,0005) when encoding responses.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.1.4" shape="rect"></a>V.6.1.4 SOP Class</h4>
                     </div>
                  </div>
               </div>
               <p>The Product Characteristics Query SOP Class in the Substance Administration Service Class identifies the Product Characteristics Query Information Model, and the DIMSE-C operations supported. The following Standard SOP Class is identified:</p>
               <div class="table">
                  <a id="table_V.6.1.4-1" shape="rect"></a>
                  <p class="title">
                     <strong>Table V.6.1.4-1. Product Characteristics Query SOP Classes</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <th align="center" rowspan="1" colspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>SOP Class Name</strong>
                                    </span>
                                 </p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>SOP Class UID</strong>
                                    </span>
                                 </p>
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Product Characteristics Query Information Model - FIND</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>1.2.840.10008.5.1.4.41</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
            </div>
         </div>
         <div class="section">
            <div class="titlepage">
               <div>
                  <div>
                     <h3 class="title">
                        <a id="sect_V.6.2" shape="rect"></a>V.6.2 Substance Approval Query SOP Class</h3>
                  </div>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.2.1" shape="rect"></a>V.6.2.1 Substance Approval Query SOP Class Overview</h4>
                     </div>
                  </div>
               </div>
               <p>The Substance Approval Query SOP Class defines an application-level class of service that allows a device at the point of care to obtain verification of the appropriateness of contrast agents and other drugs administered during a procedure, based on the substance label barcode and the patient ID. The response is an authorization to proceed, or a warning, or a contra-indication for presentation to the system operator.</p>
               <p>The Substance Approval Query SOP class supports the following example use cases:</p>
               <div class="itemizedlist">
                  <ul class="itemizedlist" style="list-style-type: disc; ">
                     <li class="listitem">
                        <p>Obtain verification that administration of a specific drug or contrast agent for an image acquisition is appropriate for the patient</p>
                     </li>
                     <li class="listitem">
                        <p>Obtain verification that the implantation of a specific device under imaging guidance is appropriate for the patient</p>
                     </li>
                  </ul>
               </div>
               <p>The Substance Approval Query SOP Class does not specify the mechanism used by the SCP to verify such appropriateness of administration (e.g., by comparison to allergy information in the patient's electronic health record). The duration of validity of an approval beyond the time of the response is not defined by the Standard.</p>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.2.2" shape="rect"></a>V.6.2.2 Substance Approval Query Information Model</h4>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.2.2.1" shape="rect"></a>V.6.2.2.1 E/R Model</h5>
                        </div>
                     </div>
                  </div>
                  <p>The Substance Approval Query Information Model is represented by the Entity Relationship diagram shown in <a class="xref" href="sect_V.6.html#figure_V.6-2" title="Figure V.6-2. Substance Approval E-R Diagram" shape="rect">Figure V.6-2</a>.</p>
                  <p>
              </p>
                  <div class="figure">
                     <a id="figure_V.6-2" shape="rect"></a>
                     <div class="figure-contents">
                        <div class="mediaobject">
                           <img src="figures/PS3.4_V.6-2.svg" alt="Substance Approval E-R Diagram" />
                        </div>
                     </div>
                     <p class="title">
                        <strong>Figure V.6-2. Substance Approval E-R Diagram</strong>
                     </p>
                  </div>
                  <p>
                     <br class="figure-break" clear="none" />
                  </p>
                  <p>
                     <a class="xref" href="sect_V.6.html#figure_V.6-2" title="Figure V.6-2. Substance Approval E-R Diagram" shape="rect">Figure V.6-2</a>
                  </p>
                  <p>The Attributes of the Information Entities can be found in the following Modules in <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a>.</p>
                  <div class="itemizedlist">
                     <ul class="itemizedlist" style="list-style-type: disc; ">
                        <li class="listitem">
                           <p>Patient Identification Module</p>
                        </li>
                        <li class="listitem">
                           <p>Patient Demographics Module</p>
                        </li>
                        <li class="listitem">
                           <p>Visit Identification Module</p>
                        </li>
                        <li class="listitem">
                           <p>Substance Administration Module</p>
                        </li>
                        <li class="listitem">
                           <p>Substance Approval Module</p>
                        </li>
                        <li class="listitem">
                           <p>Product Characteristics Module</p>
                        </li>
                     </ul>
                  </div>
                  <p>Only selected Attributes of these Modules are used in the Substance Approval Query Information Model.</p>
                  <p>The Information Model is used in a bottom-up manner in the query; i.e., given a Product and a Patient, or alternatively a Product and a Visit, for a proposed Substance Administration act at the current time, find the Approval.</p>
                  <p>The Visit IE is included in the Information Model to support those institutions that identify patients (e.g., on a bar coded wristband) by Admission ID (i.e., the ID of the Visit), rather than Patient ID. This allows automation of query construction using a scan of the Admission ID. The Admission ID can be mapped to the Patient ID by the SCP for the purpose of the performing the query matching.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <div class="orderedlist">
                        <ol class="orderedlist" type="1">
                           <li class="listitem">
                              <p>The Visit is identified by the Admission ID (0038,0010) Attribute, but in the "Model of the Real World for the Purpose of Modality-IS Interface" (see <a href="../part03/PS3.3.html" class="olink" shape="rect">PS3.3</a>), the Visit is subsidiary to the Patient; hence the Admission ID may only be unique within the context of the patient, not within the context of the institution. The use of the Admission ID Attribute to identify the Visit (and hence the Patient) is only effective if the Admission ID is unique within the context of the institution.</p>
                           </li>
                           <li class="listitem">
                              <p>Certain institutions, e.g., ambulatory imaging centers that do not "admit" patients, may use the Imaging Service Request Identifier, or Accession Number, as an equivalent of the Admission ID. The SCU of this Query Service does not need to know the true origin or nature of the identifier, only that it is passed in the Query in the Admission ID (0038,0010) Attribute.</p>
                           </li>
                           <li class="listitem">
                              <p>There is conceptually a datetime of administration Attribute of the Substance Administration act, which is implicitly assumed to be approximately the time of the query in this SOP Class.</p>
                           </li>
                           <li class="listitem">
                              <p>There is conceptually a dose Attribute of the Product entity, which is the entire product identified by the bar code, and the request is for approval of administration of the entire product.</p>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.2.2.2" shape="rect"></a>V.6.2.2.2 Substance Approval Query Attributes</h5>
                        </div>
                     </div>
                  </div>
                  <p>
                     <a class="xref" href="sect_V.6.html#table_V.6-2" title="Table V.6-2. Attributes for the Substance Approval Query Information Model" shape="rect">Table V.6-2</a> defines the Attributes of the Substance Approval Query Information Model.</p>
                  <div class="table">
                     <a id="table_V.6-2" shape="rect"></a>
                     <p class="title">
                        <strong>Table V.6-2. Attributes for the Substance Approval Query Information Model</strong>
                     </p>
                     <div class="table-contents">
                        <table frame="box" rules="all">
                           <thead>
                              <tr valign="top">
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Description / Module</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Tag</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Matching Key Type</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Return Key Type</strong>
                                       </span>
                                    </p>
                                 </th>
                                 <th align="center" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Remark/Matching Type</strong>
                                       </span>
                                    </p>
                                 </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr valign="top">
                                 <td align="left" colspan="5" rowspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Patient</strong>
                                       </span>
                                    </p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Patient's Name</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0010,0010)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Patient ID</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0010,0020)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>R</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Shall be retrieved with Single Value Matching only.</p>
                                    <p>One or both of Patient ID (0010,0020) and Admission ID (0038,0010) shall be present as a Matching Key in the Query</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Issuer of Patient ID</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0010,0021)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Issuer of Patient ID Qualifiers Sequence</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0010,0024)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>3</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;All Attributes of the Issuer of Patient ID Qualifiers Sequence</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>3</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Patient's Birth Date</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0010,0030)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Patient's Sex</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0010,0040)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" colspan="5" rowspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Visit</strong>
                                       </span>
                                    </p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Admission ID</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0038,0010)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>R</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Shall be retrieved with Single Value Matching only.</p>
                                    <p>One or both of Patient ID (0010,0020) and Admission ID (0038,0010) shall be present as a Matching Key in the Query</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Issuer of Admission ID Sequence</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0038,0014)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>3</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Local Namespace Entity ID</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0040,0031)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1C</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Required if Universal Entity ID (0040,0032) is not present; may be present otherwise</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Universal Entity ID</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0040,0032)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1C</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Required if Local Namespace Entity ID (0040,0031) is not present; may be present otherwise.</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Universal Entity ID Type</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0040,0033)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>O</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1C</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Required if Universal Entity ID (0040,0032) is present.</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" colspan="5" rowspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Product</strong>
                                       </span>
                                    </p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Product Package Identifier</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0001)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>R</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Shall be retrieved with Single Value Matching only. Shall be present as a Matching Key in the Query.</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Substance</strong>
                                       </span>
                                       <span class="bold">
                                          <strong>Administration</strong>
                                       </span>
                                    </p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Administration Route Code Sequence</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0054,0302)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>R</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Shall be present as a Matching Key in the Query.</p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Code Value</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0100)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>R</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Coding Scheme Designator</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0102)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>R</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>&gt;Code Meaning</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0008,0104)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" colspan="5" rowspan="1">
                                    <p>
                                       <span class="bold">
                                          <strong>Approval</strong>
                                       </span>
                                    </p>
                                 </td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Substance Administration Approval</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0002)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Approval Status Further Description</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0003)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>2</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                              <tr valign="top">
                                 <td align="left" rowspan="1" colspan="1">
                                    <p>Approval Status DateTime</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>(0044,0004)</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>-</p>
                                 </td>
                                 <td align="center" rowspan="1" colspan="1">
                                    <p>1</p>
                                 </td>
                                 <td align="left" rowspan="1" colspan="1"></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
                  <br class="table-break" clear="none" />
                  <p>One or both of Patient ID (0010,0020) and Admission ID (0038,0010) shall be present as a Matching Key in the Query.</p>
                  <p>Product Package Identifier (0044,0001) shall be present as a Matching Key in the Query. The Product Package Identifier might not be globally unique and might conflict with other identifiers used within the scope of the institution.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>The package identifiers are typically unique within the scope of the substance administration management systems. This is a warning that they are not UIDs.</p>
                  </div>
                  <p>Administration Route Code Sequence (0054,0302) shall be present as a Matching Key in the Query, and a single Item shall be present in that Sequence with Code Value (0008,0100) and Coding Scheme Designator (0008,0102) as Matching Keys.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.2.2.3" shape="rect"></a>V.6.2.2.3 Substance Approval Query Responses</h5>
                        </div>
                     </div>
                  </div>
                  <p>A Query response may have a status of Success or Failure (see <a class="xref" href="sect_V.4.html#sect_V.4.1.1.4" title="V.4.1.1.4 Status" shape="rect">Section V.4.1.1.4</a>). A Failure Query response carries no semantics about the existence or status of approval of the Substance Administration.</p>
                  <p>A successful Query response will contain zero or one Pending response items. The case of zero Pending responses carries the semantics of no matching Approval Information Entity found, i.e., that the SCP cannot determine an approval, rather than that the substance administration is approved or disapproved. In this case a decision on substance administration needs to be made by the healthcare provider.</p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Note</h3>
                     <p>Zero Pending responses may occur due do inability of the SCP to match the patient ID, product ID or route of administration.</p>
                  </div>
                  <p>In the case of one Pending response, the matching Approval Information Entity will explicitly convey the Substance Administration Approval (0044,0002) value of APPROVED, WARNING, or CONTRA_INDICATED.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.2.3" shape="rect"></a>V.6.2.3 Conformance Requirements</h4>
                     </div>
                  </div>
               </div>
               <p>An implementation may conform to the Substance Approval Query SOP Class as an SCU or an SCP. The Conformance Statement shall be in the format defined in <a href="../part02/PS3.2.html" class="olink" shape="rect">PS3.2</a>.</p>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.2.3.1" shape="rect"></a>V.6.2.3.1 SCU Conformance</h5>
                        </div>
                     </div>
                  </div>
                  <p>An implementation that conforms to the Substance Approval Query SOP Class shall support queries against the Information Model described in <a class="xref" href="sect_V.6.html#sect_V.6.2.2" title="V.6.2.2 Substance Approval Query Information Model" shape="rect">Section V.6.2.2</a> using the baseline C-FIND SCU Behavior described in <a class="xref" href="sect_V.4.html#sect_V.4.1.2" title="V.4.1.2 C-FIND SCU Behavior" shape="rect">Section V.4.1.2</a>.</p>
                  <p>An implementation that conforms to the Substance Approval Query SOP Class as an SCU shall state in its Conformance Statement how the Query Attributes are used in the application, and how the application displays the returned Attributes, in particular the values of Substance Administration Approval (0044,0002) and Approval Status Further Description (0044,0003). It shall state how it indicates a Query response with zero Pending items, or a Failure status.</p>
                  <p>An implementation that conforms to the Substance Approval Query SOP Class as an SCU shall state in its Conformance Statement how it makes use of Specific Character Set (0008,0005) when encoding queries and interpreting responses.</p>
               </div>
               <div class="section">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h5 class="title">
                              <a id="sect_V.6.2.3.2" shape="rect"></a>V.6.2.3.2 SCP Conformance</h5>
                        </div>
                     </div>
                  </div>
                  <p>An implementation that conforms to the Substance Approval Query SOP Class shall support queries against the Substance Approval Query Information Model described in <a class="xref" href="sect_V.6.html#sect_V.6.2.2" title="V.6.2.2 Substance Approval Query Information Model" shape="rect">Section V.6.2.2</a> using the C-FIND SCP Behavior described in <a class="xref" href="sect_V.4.html#sect_V.4.1.3" title="V.4.1.3 C-FIND SCP Behavior" shape="rect">Section V.4.1.3</a>. It shall support all of the Attributes specified in the Information Model.</p>
                  <p>An implementation that conforms to the Substance Approval Query SOP Class as an SCP shall state in its Conformance Statement how it processes Required and Optional Matching Key Attributes. It shall state how it obtains the values for the Return Key Attributes.</p>
                  <p>An implementation that conforms to the Substance Approval Query SOP Class as an SCP shall state in its Conformance Statement how it makes use of Specific Character Set (0008,0005) when interpreting queries, performing matching and encoding responses.</p>
               </div>
            </div>
            <div class="section">
               <div class="titlepage">
                  <div>
                     <div>
                        <h4 class="title">
                           <a id="sect_V.6.2.4" shape="rect"></a>V.6.2.4 SOP Class</h4>
                     </div>
                  </div>
               </div>
               <p>The Substance Approval Query SOP Class in the Substance Administration Service Class identifies the Substance Approval Query Information Model, and the DIMSE-C operations supported. The following Standard SOP Class is identified:</p>
               <div class="table">
                  <a id="table_V.6.2.4-1" shape="rect"></a>
                  <p class="title">
                     <strong>Table V.6.2.4-1. Substance Approval Query SOP Classes</strong>
                  </p>
                  <div class="table-contents">
                     <table frame="box" rules="all">
                        <thead>
                           <tr valign="top">
                              <th align="center" rowspan="1" colspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>SOP Class Name</strong>
                                    </span>
                                 </p>
                              </th>
                              <th align="center" rowspan="1" colspan="1">
                                 <p>
                                    <span class="bold">
                                       <strong>SOP Class UID</strong>
                                    </span>
                                 </p>
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr valign="top">
                              <td align="left" rowspan="1" colspan="1">
                                 <p>Substance Approval Query Information Model - FIND</p>
                              </td>
                              <td align="left" rowspan="1" colspan="1">
                                 <p>1.2.840.10008.5.1.4.42</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
               <br class="table-break" clear="none" />
            </div>
         </div>
      </div>
      <div class="navfooter">
         <hr />
         <table width="100%" summary="Navigation footer">
            <tr>
               <td width="40%" align="left" rowspan="1" colspan="1">
                  <a accesskey="p" href="sect_V.5.html" shape="rect">Prev</a> </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="u" href="chapter_V.html" shape="rect">Up</a>
               </td>
               <td width="40%" align="right" rowspan="1" colspan="1"> <a accesskey="n" href="chapter_W.html" shape="rect">Next</a>
               </td>
            </tr>
            <tr>
               <td width="40%" align="left" valign="top" rowspan="1" colspan="1">V.5 Association Negotiation </td>
               <td width="20%" align="center" rowspan="1" colspan="1">
                  <a accesskey="h" href="PS3.4.html" shape="rect">Home</a>
               </td>
               <td width="40%" align="right" valign="top" rowspan="1" colspan="1"> W Color Palette Storage Service Class</td>
            </tr>
         </table>
      </div>
   </body>
</html>
